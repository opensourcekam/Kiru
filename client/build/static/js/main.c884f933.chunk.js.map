{"version":3,"sources":["components/styles/Keyframes.ts","components/styles/global.ts","components/styles/theme.ts","routes/NoMatch.tsx","components/styles/Input.tsx","components/styles/Button.ts","components/styles/Container.ts","pages/Home.tsx","lib/parseGraphqlError.ts","components/user/Login.tsx","components/user/Signup.tsx","components/styles/Shapes.ts","components/user/AuthUser.tsx","components/styles/Nav.ts","components/navbar/Logo.tsx","components/navbar/index.tsx","routes/PublicRoutes.tsx","api/mutation/updateInfluencer.ts","lib/formatters.ts","api/query/ME_QUERY.ts","components/profile/NewProfile.tsx","lib/blobToSrc.ts","components/profile/UploadAvatar.tsx","api/mutation/uploadFile.ts","components/profile/NewAvatar.tsx","components/profile/Profile.tsx","components/loader/Shapes.tsx","components/loader/index.tsx","components/promo/NoPromos.tsx","components/promo/PromosList.tsx","components/promo/Promos.tsx","components/styles/Checkbox.tsx","lib/data.ts","components/promo/new/SelectCategory.tsx","validators/validate.ts","validators/promo.ts","lib/alertErrorForm.ts","components/promo/new/PromoForm.tsx","validators/product.ts","components/promo/new/UploadPromoImage.tsx","components/promo/new/Price.tsx","components/promo/new/ProductForm.tsx","components/promo/new/Preview.tsx","components/promo/new/PreviewPlaceholder.tsx","components/promo/new/PreviewList.tsx","utils/noop.ts","components/promo/new/Publish.tsx","components/promo/new/DetailsOverview.tsx","components/promo/new/NewPromo.tsx","routes/AuthRoutes.tsx","routes/Routes.tsx","api/apollo.ts","api/resolvers.ts","components/App.tsx","serviceWorker.ts","index.tsx"],"names":["zoomIn","keyframes","_templateObject","fadeIn","_templateObject2","_templateObject3","_templateObject4","_templateObject5","fadeOut","_templateObject6","_templateObject7","_templateObject8","GlobalStyle","createGlobalStyle","global_templateObject","props","darkMode","theme","colors","jetBlack","bgColor","secondaryColor","primaryColor","fresh","primaryText","secondaryText","fgColor","borderColor","disabledBg","disabledColor","weakerTxt","cherry","NoMatch","_ref","location","react","pathname","inputStyles","css","Input_templateObject","fiveSyllablesInputStyle","Input_templateObject2","sevenSyllablesInputStyle","Input_templateObject3","Inputs","styled","div","attrs","className","Input_templateObject4","stack","stretch","Input","input","Input_templateObject5","TextArea","textarea","Input_templateObject6","StyledLabel","label","Input_templateObject7","Label","htmlFor","text","buttonStyles","Button_templateObject","disabledStyles","Button_templateObject2","shadowStyles","Button_templateObject3","Buttons","Button_templateObject4","Button","button","Button_templateObject5","secondary","size","FlatButton","Button_templateObject6","Instagram","Button_templateObject7","Container","Container_templateObject","max","nlp","extend","nlpSyllables","createSimpleSyllableTracker","value","syllables","syllable","isValid","isFiveSyllables","isSevenSyllables","hasFiveSyllables","Yup","test","name","args","message","concat","hasSevenSyllables","HaikuValidationSchema","shape","lineOne","lineTwo","lineThree","InputContainer","Home_templateObject","CenteredContainer","Home_templateObject2","Transition","transition","Home_templateObject3","FlexContainer","Home_templateObject4","SyllableText","span","Home_templateObject5","color","getSyllableTextColor","count","Home","withToastManager","toastManager","_React$useState","React","_React$useState2","Object","slicedToArray","poem","setPoem","reward","formik_esm","initialValues","validationSchema","onSubmit","values","current","rewardMe","join","window","scrollTo","top","document","body","scrollHeight","behavior","render","index_es","ref","type","field","_isFiveSyllables","assign","component","_ref2","_isSevenSyllables","_ref3","_isFiveSyllables2","build_default","a","icon","in","timeout","readOnly","rows","onClick","add","appearance","copy","parseGraphqlError","error","toString","replace","LoginSchema","email","required","password","LOGIN_MUTATION","gql","Login_templateObject","withRouter","react_apollo_esm","mutation","login","mutationProps","asyncToGenerator","regenerator_default","mark","_callee","variables","response","wrap","_context","prev","next","sent","data","token","localStorage","setItem","history","push","client","writeData","isLoggedIn","t0","autoDismiss","autoDismissTimeout","stop","_x","apply","this","arguments","placeholder","id","StyledOr","disabled","Login_templateObject2","Signup_templateObject","REGISTER_MUTATION","Signup_templateObject2","RegisterMutation","Mutation","Signup_RegisterMutation","register","passwordAgain","_ref4","Signup_StyledOr","Signup_templateObject3","defaultStyle","Shapes_templateObject","SquareRightBorder","Shapes_templateObject2","SquareLeftBorder","Shapes_templateObject3","AuthUser","isLogin","switchForm","AuthUser_Transition","Wrapper","user_Login","Signup","role","AuthUser_templateObject","AuthUser_templateObject2","Nav","nav","Nav_templateObject","StyledLogo","h5","Logo_templateObject","Logo","Navbar","toggledDarkMode","setToggledDarkMode","DarkMode","toggleDarkMode","handle","Logo_Logo","x","renderNavbar","PublicRoutes","react_default","createElement","Fragment","react_router","path","route","navbar_Navbar","TransitionGroup","CSSTransition","key","classNames","exact","UPDATE_INFLUENCER_MUTATION","updateInfluencer_templateObject","updateProfile","bio","social","create","status","instagram","link","createFile","public_id","secret","signature","original_filename","url","bytes","width","height","contentType","resource_type","format","ME_QUERY","ME_QUERY_templateObject","ProfileSchema","instagramURL","componentDict","fields","maxLength","cols","profile","NewProfile","StyledCont","refetchQueries","query","onboardingMutation","get","setTimeout","form","map","f","C","InputSnackbar","NewProfile_StyledLabel","length","isSubmitting","NewProfile_templateObject","NewProfile_templateObject2","NewProfile_templateObject3","blobToSrc","blob","URL","webkitURL","createObjectURL","_this","classCallCheck","_super","call","handleFile","file","abrupt","FormData","append","process","setPreview","state","preview","isDragActive","isDragReject","revokeObjectURL","setState","_this2","es","accept","minSize","maxSize","onDrop","getRootProps","getInputProps","StyledUpload","src","renderUploadState","UploadAvatar","UploadAvatar_templateObject","UPLOAD_FILE_MUTATION","uploadFile_templateObject","NewAvatar","loading","setLoading","_React$useState3","_React$useState4","setFile","attemptSubmit","_callee2","createFileMutation","updateInfluencer","fileCreateResponse","setAvatarResponse","_context2","fetch","method","json","avatar","_x2","_x3","NewAvatar_StyledCont","skipUpload","NewAvatar_templateObject","Profile","setSkip","skip","JSON","stringify","NewProfile_NewProfile","renderProfile","objectSpread","Loader","loader_Shapes_templateObject","loaderFigKeys","loader_templateObject","labelKeys","loader_templateObject2","loader_templateObject3","Figure","loader_templateObject4","p","loader_templateObject5","loader_Wrapper","loader_Label","Shapes","Shapes_Loader","defaultProps","NoPromos","StyledNoPromos","NoPromos_templateObject","PromosList","list","promo","title","promos","Promos","PromosList_PromosList","NoPromos_NoPromos","Checkbox","checked","objectWithoutProperties","CheckboxContainer","HiddenCheckbox","StyledCheckbox","Icon","viewBox","points","Checkbox_templateObject","Checkbox_templateObject2","Checkbox_templateObject3","svg","Checkbox_templateObject4","categories","SelectCategory","category","handleChange","options","StyledSelect","Input_Label","react_select_esm","find","o","onChange","e","styles","selectStyles","primary","SelectCategory_templateObject","control","base","borderRadius","outline","boxShadow","isFocused","isActive","border","validateFormByObj","obj","errHandler","errors","entries","filter","v","promoErrorHandler","isBetween","setPromoInfoErrMsg","parseInt","setCodeErrMsg","setEmpyErrMsg","n","min","alertFormError","ctx","err","split","infoFields","componentDidMount","code","codeFields","formatStringNumFromEvent","Date","toISOString","parsed","target","c","toUpdate","defineProperty","handleCheckboxChange","_this$state$promo","description","valid","forEach","updatePromo","_this3","_this4","PromoForm_StyledCont","StyledGrid","SelectCategory_SelectCategory","renderFields","Checkbox_Checkbox","validatePromo","PromoForm","PromoForm_templateObject","PromoForm_templateObject2","productErrorHandler","UploadPromoImage","source","nextProps","reset","UploadPromoImage_StyledUpload","UploadPromoImage_templateObject","Price","formatPrice","formatCurrency","toUpperCase","StyledPrice","Price_templateObject","product","image","selectProduct","currentProduct","resetProduct","brand","price","currency","updateProducts","removeProduct","addBtn","canAddMore","addProduct","removeBtn","UploadPromoImage_UploadPromoImage","StyledForm","Price_Price","renderButtons","ProductForm","ProductForm_templateObject","Preview","StyledPreview","alt","Preview_templateObject","PreviewPlaceholder","PreviewPlaceholder_templateObject","PreviewList","PreviewList_StyledPreview","StyledInfo","productList","Preview_Preview","i","renderList","h3","PreviewList_templateObject","PreviewList_templateObject2","noop","Publish","createPromo","normalizePromo","uploadPromoProductImg","products","Math","round","goToPublishedPromo","DetailsOverview","backToPromo","DetailsOverview_StyledCont","editBtn","Publish_Publish","DetailsOverview_templateObject","NewPromo","stage","resetCurrProd","productIncluded","currProdMalloc","updateProduct","toConsumableArray","prod","indexOf","expires","discount","includes","DetailsOverview_DetailsOverview","NewPromo_StyledCont","PreviewList_PreviewList","StyledNewPromo","renderStage","NewPromo_templateObject","NewPromo_templateObject2","Workaround","action","children","AuthRoutes","loader_Loader","clear","me","to","Profile_Profile","IS_LOGGED_IN","Routes_templateObject","Routes","AuthRoutes_AuthRoutes","PublicRoutes_PublicRoutes","react_router_dom","routeHandler","Component","REACT_APP_ENV","REACT_APP_GRAPHQL_SERVER_PROD","REACT_APP_GRAPHQL_SERVER_DEV","ApolloClient","uri","credentials","fetchOptions","clientState","defaults","getItem","resolvers","Query","typeDefs","createContext","App","useState","setDarkMode","dist","placement","styled_components_browser_esm","Provider","Routes_Routes","Boolean","hostname","match","ReactDOM","components_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.c884f933.chunk.js","sourcesContent":["import { keyframes } from 'styled-components';\n\nexport const zoomIn = keyframes`\n0% {\n    transform: scale(0.3);\n  }\n  100% {\n    transform: rotate(1);\n  }\n`;\n\nexport const slideInLeft = keyframes`\n  from {\n    -webkit-transform: translate3d(-100%, 0, 0);\n    transform: translate3d(-100%, 0, 0);\n    visibility: visible;\n  }\n\n  to {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n`;\n\nexport const slideOutLeft = keyframes`\n  from {\n    -webkit-transform: translate3d(0, 0, 0);\n    transform: translate3d(0, 0, 0);\n  }\n\n  to {\n    visibility: hidden;\n    -webkit-transform: translate3d(100%, 0, 0);\n    transform: translate3d(100%, 0, 0);\n  }\n`;\n\nexport const shake = keyframes`\n  10%, 90% {\n    transform: translate3d(-1px, 0, 0);\n  }\n  \n  20%, 80% {\n    transform: translate3d(2px, 0, 0);\n  }\n\n  30%, 50%, 70% {\n    transform: translate3d(-4px, 0, 0);\n  }\n\n  40%, 60% {\n    transform: translate3d(4px, 0, 0);\n  }\n`;\n\nexport const fadeIn = keyframes`\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n`;\n\nexport const fadeOut = keyframes`\n  0% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0;\n  }\n`;\n\nexport const spin = keyframes`\n  from,15% { -webkit-transform: rotateY(0deg);    }\n  20%,35%  { -webkit-transform: rotateY(-72deg);  }\n  40%,55%  { -webkit-transform: rotateY(-144deg); }\n  60%,75%  { -webkit-transform: rotateY(-216deg); }\n  80%,95%  { -webkit-transform: rotateY(-288deg); }\n  to       { -webkit-transform: rotateY(-360deg); }\n`;\n\nexport const load = keyframes`\n  0% {\n    opacity: 1;\n  }\n\n  10% {\n    opacity: 0.85;\n  }\n\n  20% {\n    opacity: 0.70;\n  }\n\n  30% {\n    opacity: 0.55;\n  }\n\n  40% {\n    opacity: 0.40;\n  }\n\n  50% {\n    opacity: 0.25;\n  }\n\n  60% {\n    opacity: 0.40;\n  }\n\n  70% {\n    opacity: 0.55;\n  }\n\n  80% {\n    opacity: 0.70;\n  }\n\n  90% {\n    opacity: 0.85;\n  }\n\n  100% {\n    opacity: 1;\n  }\n`;\n","import { createGlobalStyle } from 'styled-components';\nimport { fadeIn, fadeOut, shake } from './Keyframes';\n\nexport const GlobalStyle =\n\tcreateGlobalStyle <\n\t{ darkMode: boolean } >\n\t`\n    html {\n        box-sizing: border-box;\n        transition : -webkit-filter 200ms ease-in-out;\n        filter: ${(props) => (props.darkMode ? 'invert(100%)' : 'none')};\n    }\n\n    *,\n    *:before,\n    *:after {\n        box-sizing: inherit;\n    }\n\n    p {\n        line-height: 1.8;\n    }\n\n    body {\n        /* @import url('//fonts.googleapis.com/css?family=Poppins:300,400,700'); */\n        /* BROKEN IN PRODUCTION FOR NOW */\n        font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n        background-color: ${(props) => (!props.darkMode ? props.theme.colors.bgColor : props.theme.colors.jetBlack)};\n        overflow-x: hidden;\n        margin: 0;\n    }\n\n    input::-webkit-inner-spin-button,\n    input::-webkit-outer-spin-button {\n        -webkit-appearance: none;\n        margin: 0;\n    }\n\n    ::-webkit-scrollbar {\n        width: 0.65em;\n    }\n\n    ::-webkit-scrollbar-track {\n        -webkit-box-shadow: inset 0 0 3px rgba(0, 0, 0, 0.1);\n        background-color: #eeeeee;\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background-color: #bdbdbd;\n        outline: 1px solid #9e9e9e;\n    }\n\n\n    /* class for text not to be selected or focused */\n\n    .no-select {\n        -webkit-touch-callout: none;\n        /* iOS Safari */\n        -webkit-user-select: none;\n        /* Safari */\n        -khtml-user-select: none;\n        /* Konqueror HTML */\n        -moz-user-select: none;\n        /* Firefox */\n        -ms-user-select: none;\n        /* Internet Explorer/Edge */\n        user-select: none;\n        /* Non-prefixed version, currently\n                                        supported by Chrome and Opera */\n    }\n\n    ul li {\n        list-style: none;\n    }\n    .page-enter {\n\t\tanimation: ${fadeIn} 500ms ease-out;\n\t}\n\n\t.page-exit {\n        display: none;\n\t\tanimation: ${fadeOut} 500ms ease-out;\n\t}\n    .field-error {\n        color: ${(props) => props.theme.colors.secondaryColor};   \n        animation: ${fadeIn} 750ms ease-out, ${fadeIn} 1000ms ease-in;\n        font-size: 0.9rem;\n        margin-left: 3.5rem;\n    }\n`;\n","import { DefaultTheme } from 'styled-components';\n\nconst theme: DefaultTheme = {\n\tdarkMode: true,\n\tcolors: {\n\t\tprimaryColor: '#6927ff',\n\t\tsecondaryColor: '#837dff',\n\t\tfresh: '#6DDDD4',\n\t\tprimaryText: '#323232',\n\t\tsecondaryText: '#9e9e9e',\n\t\tfgColor: '#E5F3F3',\n\t\tbgColor: '#F6FAF9',\n\t\tborderColor: '#E0E0E0',\n\t\tdisabledBg: '#E0E0E0',\n\t\tdisabledColor: '#9E9E9E',\n\t\tweakerTxt: ' #253858',\n\t\tcherry: '#ff3366',\n\t\tjetBlack: '#050002'\n\t}\n};\n\nexport { theme };\n","import * as React from 'react';\nimport { Location } from 'history';\n\ninterface INoMatchProps {\n  location: Location\n}\n\nconst NoMatch: React.FunctionComponent<INoMatchProps> = ({ location }) => (\n  <div>\n    <h3>No match for <code>{location.pathname}</code></h3>\n  </div>\n);\n\nexport { NoMatch };","import * as React from 'react';\nimport styled, { css } from 'styled-components';\nimport { IInputProps } from './Button';\n\nexport const inputStyles = css`\n\toutline: none;\n\t-webkit-box-shadow: none;\n\tbackground-image: none;\n\t-moz-box-shadow: none;\n\tbox-shadow: none;\n\tfont-size: 1rem;\n\tfont-family: 'Poppins', sans-serif;\n\tborder-radius: 4px;\n\ttransition: 0.3s ease-in-out;\n\tmin-height: 2.65rem;\n\tpadding: 26.5px 8px;\n`;\n\nconst fiveSyllablesInputStyle = css`width: 70%;`;\nconst sevenSyllablesInputStyle = css`width: 100%;`;\n\nexport const Inputs = styled.div.attrs({\n\tclassName: 'inputs'\n})`\n\tinput {\n\t\tdisplay: ${(props: IInputProps) => (props.stack ? 'block' : 'inline-block')};\n\t\twidth: ${(props: IInputProps) => (props.stretch ? '100%' : 'none')};\n\t}\n\ttextarea {\n\t\tdisplay: ${(props: IInputProps) => (props.stack ? 'block' : 'inline-block')};\n\t\twidth: ${(props: IInputProps) => (props.stretch ? '100%' : 'none')};\n\t}\n\n`;\n\nexport const Input = styled.input`\n\t${inputStyles};\n\tmax-height: 2.65rem;\n\tborder: 1.5px solid ${(props) => props.theme.colors.disabledBg};\n\t&::placeholder {\n\t\topacity: 0.7;\n\t}\n\n\t&:focus,\n\t&:active {\n\t\tborder: 1.5px solid ${(props) => props.theme.colors.primaryColor};\n\t\tbox-shadow: 0 0 0 2px ${(props) => props.theme.colors.secondaryColor};\n\t}\n\n\t&:disabled {\n\t\tbackground-color: ${(props) => props.theme.colors.disabledBg};\n\t\tcursor: not-allowed;\n\t\topacity: 0.7;\n\n\t\t&:focus,\n\t\t&:active {\n\t\t\tborder: 1.5px solid ${(props) => props.theme.colors.disabledBg};\n\t\t\tbox-shadow: none;\n\t\t}\n\t}\n\n\t&.five-syllables {\n\t\t${fiveSyllablesInputStyle};\n\t}\n\t&.seven-syllables {\n\t\t${sevenSyllablesInputStyle};\n\t}\n`;\n\nexport const TextArea = styled.textarea`\n\t${inputStyles};\n\tresize: none;\n\twidth: 100%;\n\tfont-family: Georgia;\n\tborder: 1.5px solid ${(props) => props.theme.colors.disabledBg};\n\t&::-webkit-scrollbar {\n\t\twidth: 0;\n\t}\n\n\t&::placeholder {\n\t\topacity: 0.7;\n\t}\n\n\t&:focus,\n\t&:active {\n\t\tborder: 1.5px solid ${(props) => props.theme.colors.primaryColor};\n\t\tbox-shadow: 0 0 0 2px ${(props) => props.theme.colors.secondaryColor};\n\t}\n\n\t&:disabled {\n\t\tbackground-color: ${(props) => props.theme.colors.disabledBg};\n\t\tcursor: not-allowed;\n\t\topacity: 0.7;\n\n\t\t&:focus,\n\t\t&:active {\n\t\t\tborder: 1.5px solid ${(props) => props.theme.colors.disabledBg};\n\t\t\tbox-shadow: none;\n\t\t}\n\t}\n`;\n\nconst StyledLabel = styled.label`\n\tfont-weight: 600;\n\tmargin-bottom: 0.75rem;\n\tdisplay: block;\n\tfont-size: 0.7rem;\n\ttext-transform: uppercase;\n\tletter-spacing: 2px;\n\tcolor: #253858;\n\tmargin-top: 1.35rem;\n`;\n\nexport const Label: React.FunctionComponent<{ htmlFor: string; text: string }> = ({ htmlFor, text }) => (\n\t<StyledLabel htmlFor={htmlFor}>{text}</StyledLabel>\n);\n","import styled, { css } from 'styled-components';\ninterface IButtonProps {\n\treadonly size?: string;\n}\n\nexport interface IInputProps extends IButtonProps {\n\treadonly stack?: boolean;\n\treadonly stretch?: boolean;\n\treadonly secondary?: boolean;\n}\n\nconst buttonStyles = css`\n\tpadding: 0.25rem 1rem;\n\tborder: none;\n\tcursor: pointer;\n\toutline: none;\n\ttext-transform: uppercase;\n\tletter-spacing: 1.25px;\n\tborder-radius: 4px;\n\tfont-weight: 400;\n\ttransition: 0.3s ease-in-out;\n\tfont-family: 'Poppins', sans-serif;\n\ttransform: scale(1.001);\n\tposition: relative;\n\tline-height: 2rem;\n\n\tsvg {\n\t\theight: 1rem;\n\t\twidth: 1rem;\n\t\topacity: 0.5;\n\t\tposition: absolute;\n\t\tright: 10%;\n\t\ttop: 32.5%;\n\t}\n`;\n\nconst disabledStyles = css`\n\tpadding: 0.25rem 1rem;\n\t-webkit-box-shadow: none;\n\t-moz-box-shadow: none;\n\tbox-shadow: none;\n\tcursor: not-allowed;\n`;\n\nconst shadowStyles = css`\n\t-webkit-box-shadow: 0px 6px 25px 0px rgba(105, 39, 255, 0.5);\n\t-moz-box-shadow: 0px 6px 25px 0px rgba(105, 39, 255, 0.5);\n\tbox-shadow: 0px 6px 25px 0px rgba(105, 39, 255, 0.5);\n`;\n\nexport const Buttons =\n\tstyled.div <\n\tIInputProps >\n\t`\n\tbutton {\n\t\tdisplay: ${(props) => (props.stack ? 'block' : 'inline-block')};\n\t\tmin-width: ${(props) => (props.stretch ? '100%' : 'none')};\n\t\tmargin: 1rem 0;\n\t}\n`;\n\nexport const Button =\n\tstyled.button <\n\tIInputProps >\n\t`\n\t${buttonStyles};\n\t${shadowStyles};\n\tbackground-color: ${(props) =>\n\t\t!props.secondary ? props.theme.colors.primaryColor : props.theme.colors.secondaryColor};\n\tcolor: ${(props) => props.theme.colors.fgColor};\n\tfont-size: ${(props) => (props.size === 'small' ? 0.7 : 0.9)}rem;\n\tmin-width: ${(props) => (props.size === 'small' ? 125 : 225)}px;\n\tmin-height: ${(props) => (props.size === 'small' ? 35 : 55)}px;\n\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n\n\t&:disabled {\n\t\t${disabledStyles} background-color: ${(props) => props.theme.colors.disabledBg};\n\t\tcolor: ${(props) => props.theme.colors.disabledColor};\n\t}\n`;\n\nexport const FlatButton =\n\tstyled.button <\n\tIInputProps >\n\t`\n\t${buttonStyles};\n\tbackground-color: #bdbdbd;\n\tcolor: #616161;\n\tfont-size: ${(props) => (props.size === 'small' ? 0.7 : 0.9)}rem;\n\tmin-width: ${(props) => (props.size === 'small' ? 125 : 225)}px;\n\tmin-height: ${(props) => (props.size === 'small' ? 35 : 55)}px;\n\n\t&:disabled {\n\t\t${disabledStyles};\n\t}\n`;\n\nexport const Instagram = styled.button`\n\t${buttonStyles};\n\tposition: relative;\n\tcolor: ${(props) => props.theme.colors.fgColor};\n\tfont-size: 0.9rem;\n\tmin-height: 55px;\n\tmin-width: 225px;\n\tbackground: #f09433;\n\tbackground: -moz-linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);\n\tbackground: -webkit-linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);\n\tbackground: linear-gradient(45deg, #f09433 0%, #e6683c 25%, #dc2743 50%, #cc2366 75%, #bc1888 100%);\n\tfilter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#f09433', endColorstr='#bc1888', GradientType=1);\n\t-webkit-box-shadow: 0px 6px 25px 0px rgba(230, 104, 60, 0.5);\n\t-moz-box-shadow: 0px 6px 25px 0px rgba(230, 104, 60, 0.5);\n\tbox-shadow: 0px 6px 25px 0px rgba(230, 104, 60, 0.5);\n\n\tspan {\n\t\tposition: absolute;\n\t\ttop: 35%;\n\t\tleft: 15%;\n\t}\n\n\t&:hover {\n\t\topacity: 0.8;\n\t}\n\n\t&:disabled {\n\t\t${disabledStyles};\n\t\tbackground-color: ${(props) => props.theme.colors.disabledBg};\n\t\tcolor: ${(props) => props.theme.colors.disabledColor};\n\t}\n`;\n","import styled from 'styled-components';\ninterface IContainerProps {\n\treadonly max?: number;\n}\n\nexport const Container = styled.div`\n\tmax-width: ${({ max }: IContainerProps) => max || 75}%;\n\n\t@media screen and (min-width: 1800px) {\n\t\tmax-width: 65%;\n\t}\n\n\t@media screen and (max-width: 1000px) {\n\t\tmax-width: 85%;\n\t}\n\n\t@media screen and (max-width: 600px) {\n\t\tmax-width: 90%;\n\t}\n\toverflow: visible;\n\n\tmargin: 0 auto;\n`;\n","import * as React from 'react';\nimport * as Yup from 'yup';\nimport * as syllable from 'syllable';\nimport Reward from 'react-rewards';\nimport nlp from 'compromise';\nimport nlpSyllables from 'compromise-syllables';\nimport styled, { DefaultTheme } from 'styled-components';\nimport FeatherIcon from 'feather-icons-react';\nimport transition from 'styled-transition-group';\nimport { withToastManager } from 'react-toast-notifications';\nimport copy from 'copy-to-clipboard';\nimport { Formik, Form, Field, FieldProps, ErrorMessage } from 'formik';\n\nimport { Inputs, Input, TextArea } from '../components/styles/Input';\nimport { Button, Buttons } from '../components/styles/Button';\nimport { Container } from '../components/styles/Container';\nimport { fadeIn, fadeOut } from '../components/styles/Keyframes';\n\n// https://mariusschulz.com/blog/keyof-and-lookup-types-in-typescript\ntype ColorKeys = keyof DefaultTheme['colors'];\ninterface IHomeProps {\n\ttoastManager: any;\n}\ninterface ISyllables {\n\tisValid: boolean;\n\tsyllables: number;\n\tmax: number;\n}\n\nnlp.extend(nlpSyllables);\n\nconst createSyllableTracker = (\n\tvalue: string,\n\tmaxSyllables: number\n): { syllables: string[]; count: number; valid: boolean } => {\n\tconst doc = nlp(value)\n\t\t// @ts-ignore\n\t\t.syllables();\n\n\tif (doc.length >= 1) {\n\t\tconst [ syllables ] = doc.map((t: any) => t.syllables);\n\n\t\treturn {\n\t\t\tsyllables,\n\t\t\tcount: syllables.length,\n\t\t\tvalid: syllables.length === maxSyllables\n\t\t};\n\t}\n\n\treturn {\n\t\tsyllables: [],\n\t\tvalid: false,\n\t\tcount: 0\n\t};\n};\n\nconst createSimpleSyllableTracker = (value: string, max: number): ISyllables => {\n\tconst syllables = syllable(value);\n\treturn {\n\t\tisValid: syllables === max,\n\t\tsyllables,\n\t\tmax\n\t};\n};\nconst isFiveSyllables = (value: string): ISyllables => createSimpleSyllableTracker(value, 5);\nconst isSevenSyllables = (value: string): ISyllables => createSimpleSyllableTracker(value, 7);\n\nconst baseMessage = 'Try again this is not quite';\nconst hasFiveSyllables = Yup.mixed().test({\n\tname: 'hasFiveSyllables',\n\ttest: (args) => isFiveSyllables(args).isValid,\n\tmessage: `${baseMessage} five syllables`\n});\n\nconst hasSevenSyllables = Yup.mixed().test({\n\tname: 'hasFiveSyllables',\n\ttest: (args) => isSevenSyllables(args).isValid,\n\tmessage: `${baseMessage} seven syllables`\n});\n\nconst HaikuValidationSchema = Yup.object().shape({\n\tlineOne: hasFiveSyllables,\n\tlineTwo: hasSevenSyllables,\n\tlineThree: hasFiveSyllables\n});\n\nconst InputContainer = styled.div`\n\tmargin-bottom: 2rem;\n\t.field-error {\n\t\tmargin-top: 0.5rem;\n\t}\n`;\nconst CenteredContainer = styled.div`\n\tmargin-top: 2rem;\n\tpadding: 2rem 0;\n`;\n\nconst Transition = transition.div`\n\t&:enter {\n\t\tanimation: ${fadeIn} 1s forwards;\n\t}\n\n\t&:exit {\n\t\t\tanimation: ${fadeOut} 1s forwards;\n\t}\n`;\nconst FlexContainer = styled.div`\n\tdisplay: flex;\n\talign-items: center;\n`;\n\nconst SyllableText = styled.span`\n\tfont-weight: 700;\n\tfont-size: 2.5rem;\n\tmargin-right: 2rem;\n\tcolor: ${(props: { color: ColorKeys; theme: DefaultTheme }) =>\n\t\tprops.theme.colors[props.color || props.theme.colors.weakerTxt]};\n`;\n\ninterface Variables {\n\tlineOne: String;\n\tlineTwo: String;\n\tlineThree: String;\n}\n\n/**\n * \n * \n * syllableCount, needle\n * if syllableCount === needle => 'fresh'\n * elif syllableCount > needle => 'red'\n * return 'greyish'\n*/\n\nconst getSyllableTextColor = (count: number, max: number): ColorKeys => {\n\tif (count === max) {\n\t\treturn 'fresh';\n\t} else if (count > max) {\n\t\treturn 'cherry';\n\t}\n\n\treturn 'disabledColor';\n};\n\nconst _Home: React.FunctionComponent<IHomeProps> = (props) => {\n\tconst { toastManager } = props;\n\tconst [ poem, setPoem ] = React.useState('');\n\tconst reward = React.useRef<{\n\t\trewardMe: () => void;\n\t\tpunishMe: () => void;\n\t}>(null);\n\n\treturn (\n\t\t<Container>\n\t\t\t<CenteredContainer>\n\t\t\t\t<p>\n\t\t\t\t\tWhen youre ready allow your mind to take you new places. Channel your inner poet, hold space in\n\t\t\t\t\tyour mind for nature, visualize yourself in another setting. Upon your return place your haiku\n\t\t\t\t\tbelow.\n\t\t\t\t</p>\n\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={{ lineOne: '', lineTwo: '', lineThree: '' }}\n\t\t\t\t\tvalidationSchema={HaikuValidationSchema}\n\t\t\t\t\tonSubmit={(values: Variables) => {\n\t\t\t\t\t\tif (reward && reward.current) {\n\t\t\t\t\t\t\treward.current.rewardMe();\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetPoem(Object.values(values).join('\\n\\n'));\n\t\t\t\t\t\twindow.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });\n\t\t\t\t\t}}\n\t\t\t\t\trender={() => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<Reward ref={reward} type=\"confetti\">\n\t\t\t\t\t\t\t\t<Inputs stack={true}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tname=\"lineOne\"\n\t\t\t\t\t\t\t\t\t\trender={({ field }: FieldProps<Variables>) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { syllables, max } = isFiveSyllables(field.value);\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SyllableText color={getSyllableTextColor(syllables, max)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{syllables}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SyllableText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input className=\"five-syllables\" name=\"lineOne\" {...field} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorMessage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"lineOne\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"field-error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tname=\"lineTwo\"\n\t\t\t\t\t\t\t\t\t\trender={({ field }: FieldProps<Variables>) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { syllables, max } = isSevenSyllables(field.value);\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SyllableText color={getSyllableTextColor(syllables, max)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{syllables}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SyllableText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input className=\"seven-syllables\" {...field} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorMessage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"lineTwo\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"field-error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tname=\"lineThree\"\n\t\t\t\t\t\t\t\t\t\trender={({ field }: FieldProps<Variables>) => {\n\t\t\t\t\t\t\t\t\t\t\tconst { syllables, max } = isFiveSyllables(field.value);\n\n\t\t\t\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<SyllableText color={getSyllableTextColor(syllables, max)}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{syllables}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</SyllableText>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Input className=\"five-syllables\" {...field} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</FlexContainer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<ErrorMessage\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"lineThree\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"field-error\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputContainer>\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Inputs>\n\n\t\t\t\t\t\t\t\t<Buttons stretch={true}>\n\t\t\t\t\t\t\t\t\t<Button type=\"submit\">\n\t\t\t\t\t\t\t\t\t\t<FeatherIcon icon=\"arrow-right\" /> Check my poem\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Buttons>\n\t\t\t\t\t\t\t</Reward>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</CenteredContainer>\n\t\t\t{poem && (\n\t\t\t\t<Transition in={!!poem} timeout={350}>\n\t\t\t\t\t<Inputs stack={true}>\n\t\t\t\t\t\t<TextArea readOnly value={poem} rows={5} />\n\t\t\t\t\t</Inputs>\n\t\t\t\t\t<Buttons stretch={true}>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\ttoastManager.add('Copied successfully', { appearance: 'success' });\n\t\t\t\t\t\t\t\tcopy(poem);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<FeatherIcon icon=\"copy\" /> Copy\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Buttons>\n\t\t\t\t</Transition>\n\t\t\t)}\n\t\t</Container>\n\t);\n};\n\nconst Home = withToastManager(_Home);\n\nexport { Home };\n","export const parseGraphqlError = (error: any) => error.toString().replace('Error: GraphQL error: ', '');\n","import * as React from \"react\";\nimport * as Yup from 'yup';\nimport styled from \"styled-components\";\nimport { withToastManager } from 'react-toast-notifications';\nimport { Formik, Form, Field, FieldProps,ErrorMessage } from \"formik\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { withRouter } from \"react-router\";\nimport FeatherIcon from 'feather-icons-react';\nimport { Inputs, Input } from \"../styles/Input\";\nimport { Buttons, Button, Instagram } from \"../styles/Button\";\nimport { parseGraphqlError } from \"../../lib/parseGraphqlError\";\n\nconst LoginSchema = Yup.object().shape({\n  email: Yup.string()\n    .email('Invalid email address')\n    .required('Required'),\n  password: Yup.string()\n    .required('Required')\n});\n\nconst LOGIN_MUTATION = gql`\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n    }\n  }\n`;\n\ninterface Variables {\n  email: string;\n  password: string;\n}\n\ninterface Data {\n  data: {\n      login: {\n        token: string\n    };\n  };\n}\n\nconst Login: React.SFC<any> = (props) => (\n    <Mutation mutation={LOGIN_MUTATION}>\n      {(login: any, mutationProps: any) => (\n        <Formik\n          initialValues={{ email: \"\", password: \"\" }}\n          validationSchema={LoginSchema}\n          onSubmit={async (variables: Variables) => {\n            const { toastManager } = props;\n            try {\n              const response: Data = await login({\n                variables\n              });\n\n              if (response.data.login.token) {\n                window.localStorage.setItem('sid', response.data.login.token);\n                props.history.push(`/`);\n                mutationProps.client.writeData({ data: { isLoggedIn: true } });\n              }\n            } catch (error) {\n              toastManager.add(parseGraphqlError(error), {\n                appearance: 'error',\n                autoDismiss: true,\n                autoDismissTimeout: 4000\n              });\n            }\n          }}\n          render={() => (\n            <Form>\n              <Inputs stack={true} stretch={true}>\n                <Field\n                  name=\"email\"\n                  render={({ field }: FieldProps<Variables>) => (\n                    <>\n                      <Input \n                          placeholder=\"E-Mail address\" \n                          type=\"email\"\n                          name=\"email\"\n                          {...field}\n                      />\n                      <ErrorMessage\n                        name=\"email\"\n                        component=\"div\"\n                        className=\"field-error\"\n                      />\n                    </>\n                  )}\n                />\n                <Field\n                  name=\"password\"\n                  render={({ field }: FieldProps<Variables>) => (\n                    <>\n                      <Input \n                          placeholder=\"Password\" \n                          type=\"password\"\n                          name=\"password\"\n                          {...field}\n                      />\n                      <ErrorMessage\n                        name=\"password\"\n                        component=\"div\"\n                        className=\"field-error\"\n                      />\n                    </>\n                  )}\n                />\n              </Inputs>\n              <Buttons stretch={true}>\n                <Button id=\"login\" type=\"submit\"><FeatherIcon icon=\"arrow-right\" /> Sign in</Button>\n                  <StyledOr>OR</StyledOr>\n                  <Instagram disabled={false}>\n                      <span>\n                          <FeatherIcon icon=\"instagram\" />\n                      </span>\n                      Sign In with Instagram\n                  </Instagram>\n                </Buttons>\n            </Form>\n          )}\n        />\n      )}\n    </Mutation>\n);\n\nexport default withRouter(withToastManager(Login));\n\nconst StyledOr = styled.span`\n    text-align: center;\n    display: block;\n    min-width: 100%;\n    margin: 0.5rem 0;\n    font-size: 0.7rem;\n    font-weight: 800;\n`\n","import * as React from \"react\";\nimport styled, { keyframes } from \"styled-components\";\nimport { withToastManager } from 'react-toast-notifications';\nimport { Formik, Form, Field, FieldProps,ErrorMessage } from \"formik\";\nimport { Mutation } from \"react-apollo\";\nimport gql from \"graphql-tag\";\nimport { withRouter } from \"react-router\";\nimport FeatherIcon from 'feather-icons-react';\nimport { Inputs, Input } from \"../styles/Input\";\nimport { Buttons, Button, Instagram } from \"../styles/Button\";\nimport { parseGraphqlError } from \"../../lib/parseGraphqlError\";\n\nconst StyledText = styled.input`\n  max-width: 300px;\n`;\n\nconst REGISTER_MUTATION = gql`\n  mutation signup($email: String!, $password: String!, $name: String!) {\n    signup(email: $email, password: $password, name: $name) {\n      token\n    }\n  }\n`;\n\ninterface Data {\n  data: {\n      register: {\n      token: string\n    };\n  };\n}\n\ninterface Variables {\n  name: string;\n  email: string;\n  password: string;\n  passwordAgain: string;\n}\n\nclass RegisterMutation extends Mutation<Data, Variables> { }\n\nconst Register: React.SFC<any> = (props) => (\n    <RegisterMutation mutation={REGISTER_MUTATION}>\n      {(register: any, mutationProps: any) => (\n        <Formik\n          initialValues={{\n            name: \"\",\n            email: \"\",\n            password: \"\",\n            passwordAgain: \"\"\n          }}\n          onSubmit={async (variables: Variables) => {   \n            const { toastManager } = props;\n            try {\n              const response: Data = await register({\n                variables\n              });\n  \n              if (response.data.register.token) {\n                window.localStorage.setItem('sid', response.data.register.token);\n                props.history.push('/')\n                mutationProps.client.writeData({ data: { isLoggedIn: true } });\n              }\n            } catch (error) {\n              toastManager.add(parseGraphqlError(error), {\n                appearance: 'error',\n                autoDismiss: true,\n                autoDismissTimeout: 4000\n              });\n            }\n          }}\n          render={() => (\n            <Form>\n               <Inputs stack={true} stretch={true}>\n                <Field\n                  name=\"email\"\n                  render={({ field }: FieldProps<Variables>) => (\n                    <>\n                      <Input \n                          placeholder=\"E-Mail address\" \n                          type=\"email\"\n                          name=\"email\"\n                          {...field}\n                        />\n                      <ErrorMessage\n                        name=\"email\"\n                        component=\"div\"\n                        className=\"field-error\"\n                      />\n                    </>\n                  )}\n              />\n              <Field\n                name=\"password\"\n                render={({ field }: FieldProps<Variables>) => (\n                  <>\n                    <Input \n                      placeholder=\"Password\" \n                      type=\"password\"\n                      name=\"password\"\n                      {...field}\n                    />\n                    <ErrorMessage\n                      name=\"password\"\n                      component=\"div\"\n                      className=\"field-error\"\n                    />\n                  </>\n                )}\n                />\n              <Field\n                name=\"passwordAgain\"\n                render={({ field }: FieldProps<Variables>) => (\n                  <>\n                    <Input \n                      placeholder=\"Password Again\"\n                      type=\"password\"\n                      {...field}\n                    />\n                    <ErrorMessage\n                      name=\"passwordAgain\"\n                      component=\"div\"\n                      className=\"field-error\"\n                    />\n                  </>\n                )}\n                />\n                </Inputs>\n                <Buttons stretch={true}>\n                  <Button  id=\"Register\" type=\"submit\"><FeatherIcon icon=\"arrow-right\" /> Register</Button>\n                  <StyledOr>OR</StyledOr>\n                  <Instagram disabled={false}>\n                    <span>\n                        <FeatherIcon icon=\"instagram\" />\n                    </span>\n                    Register with Instagram\n                  </Instagram>\n                </Buttons>\n            </Form>\n          )}\n        />\n      )}\n    </RegisterMutation>\n);\n\nexport default withRouter(withToastManager(Register));\n\nconst StyledOr = styled.span`\n    text-align: center;\n    display: block;\n    min-width: 100%;\n    margin: 0.5rem 0;\n    font-size: 0.7rem;\n    font-weight: 800;\n`","import styled, { css } from 'styled-components';\nimport { zoomIn } from './Keyframes';\n\nconst defaultStyle = css`\n\tz-index: -1;\n\topacity: 0.5;\n\tmin-height: 25rem;\n\tmin-width: 25rem;\n\tdisplay: block;\n\tposition: absolute;\n\tborder: 15px solid #eeeeee;\n\tborder-radius: 50%;\n`;\n\nexport const SquareRightBorder = styled.span`\n\t${defaultStyle};\n\ttop: -3.5%;\n\tright: -35%;\n\ttransform: rotate(10deg);\n\tanimation: ${zoomIn} 0.5s ease-in-out forwards;\n\ttranslate: transform 1s ease;\n`;\n\nexport const SquareLeftBorder = styled.span`\n\t${defaultStyle};\n\ttop: -3.5%;\n\tleft: -35%;\n\ttransform: rotate(-10deg);\n\tanimation: ${zoomIn} 1s ease-in-out forwards;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport transition from 'styled-transition-group';\nimport Login from './Login';\nimport Signup from './Signup';\nimport { SquareLeftBorder } from '../styles/Shapes';\nimport { fadeIn, fadeOut } from '../styles/Keyframes';\n\nconst AuthUser: React.FunctionComponent<any> = () => {\n\tconst [ isLogin, switchForm ] = React.useState(false);\n\treturn (\n\t\t<Transition in={isLogin} timeout={350}>\n\t\t\t<Wrapper>\n\t\t\t\t<SquareLeftBorder />\n\t\t\t\t<h1>{isLogin ? 'Welcome back' : 'Get Started'}</h1>\n\t\t\t\t<p>\n\t\t\t\t\tOpportunities are waiting, it only takes a couple of seconds!<br />\n\t\t\t\t\tDont have an account? Dont worry, its easy to create one.\n\t\t\t\t</p>\n\t\t\t\t{isLogin ? <Login /> : <Signup />}\n\t\t\t\t<small role=\"button\" onClick={() => switchForm(!isLogin)}>\n\t\t\t\t\t{isLogin ? 'New here?' : 'Have an account?'}\n\t\t\t\t</small>\n\t\t\t</Wrapper>\n\t\t</Transition>\n\t);\n};\n\nexport { AuthUser };\n\nconst Transition = transition.div`\n\t&:enter {\n\t\tanimation: ${fadeIn} 1s forwards;\n\t}\n\n\t&:exit {\n\t\t\tanimation: ${fadeOut} 1s forwards;\n\t}\n`;\n\nconst Wrapper = styled.div`\n\tanimation: ${fadeIn} 2s forwards;\n\tposition: relative;\n\tmax-width: 500px;\n\tmargin: 12.5vh auto;\n\tposition: relative;\n\n\tbutton,\n\tinput {\n\t\tmargin: 1rem 0;\n\t}\n\n\t#login {\n\t\tposition: relative;\n\n\t\tsvg {\n\t\t\theight: 1.5rem;\n\t\t\twidth: 1.5rem;\n\t\t\topacity: 0.5;\n\t\t\tposition: absolute;\n\t\t\tright: 5%;\n\t\t\ttop: 30%;\n\t\t}\n\t}\n\n\th1 {\n\t\tfont-size: 4rem;\n\t\tcolor: ${(props) => props.theme.colors.primaryText};\n\t\tmargin-left: -2.5rem;\n\t\tmargin-bottom: 0;\n\t\tmargin-top: 0;\n\t}\n\n\t@media screen and (max-width: 600px) {\n\t\th1 {\n\t\t\tfont-size: 3rem;\n\t\t\tmargin-left: -0.5rem;\n\t\t}\n\t}\n\n\tp {\n\t\tmargin-bottom: 3rem;\n\t\tcolor: ${(props) => props.theme.colors.primaryText};\n\t}\n\n\tsmall {\n\t\tcursor: pointer;\n\t\ttext-align: center;\n\t\tdisplay: block;\n\t\tmin-width: 100%;\n\t\tmargin: 1rem 0;\n\t\tfont-size: 0.7rem;\n\t}\n`;\n","import styled from 'styled-components';\n\nexport const Nav = styled.nav`\n\tmin-width: 100%;\n\tborder-bottom: 1px solid #e0e0e0;\n\tmin-height: 6rem;\n\tposition: relative;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tpadding: 0.5rem 2rem;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { withRouter, RouteComponentProps } from 'react-router-dom';\n\nconst StyledLogo = styled.h5`\n\tletter-spacing: 2px;\n\ttext-transform: uppercase;\n\tfloat: left;\n\tfont-size: 1.25rem;\n\tcursor: pointer;\n`;\n\ninterface ILogoProps {\n\thistory: {\n\t\tpush: (route: string) => void;\n\t};\n}\n\nconst Logo: React.FunctionComponent<ILogoProps> = ({ history }) => {\n\treturn <StyledLogo onClick={() => history.push('/')}>Kiru the haiku space</StyledLogo>;\n};\n\nexport { Logo };\n","import * as React from 'react';\nimport FeaterIcons from 'feather-icons-react';\n\nimport { Nav } from '../styles/Nav';\nimport { Logo } from './Logo';\nimport { INavbarProps } from './navbar';\nimport { DarkMode } from '../App';\n\nconst Navbar: React.FunctionComponent<INavbarProps> = (props) => {\n\tconst [ toggledDarkMode, setToggledDarkMode ] = React.useState(false);\n\tconst value = React.useContext(DarkMode);\n\n\tReact.useEffect(\n\t\t() => {\n\t\t\tvalue.toggleDarkMode();\n\t\t},\n\t\t[ toggledDarkMode ]\n\t);\n\n\tconst renderNavbar = () => {\n\t\tconst created = true;\n\t\tlet handle = props.handle;\n\t\tif (!created) {\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!handle) {\n\t\t\thandle = '';\n\t\t}\n\n\t\treturn (\n\t\t\t<Nav>\n\t\t\t\t<Logo history={props.history} />\n\t\t\t\t<span role=\"button\" onClick={() => setToggledDarkMode((x) => !x)}>\n\t\t\t\t\t<FeaterIcons icon={value.darkMode ? 'sun' : 'moon'} />\n\t\t\t\t</span>\n\t\t\t</Nav>\n\t\t);\n\t};\n\n\treturn renderNavbar();\n};\n\nexport { Navbar };\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { NoMatch } from './NoMatch';\nimport { Home } from '../pages/Home';\nimport { AuthUser } from '../components/user/AuthUser';\nimport { Container } from '../components/styles/Container';\nimport { Navbar } from '../components/navbar';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\n\nconst PublicRoutes = () => (\n\t<>\n\t<Route\n\t\tpath=\"/\"\n\t\trender={(route) => <Navbar {...route} />}\n\t/>\n\t<Route\n\t\trender={({ location }) => {\n\t\t\treturn (\n\t\t\t\t<Container>\n\t\t\t\t\t<TransitionGroup>\n\t\t\t\t\t\t<CSSTransition key={location.key} classNames=\"page\" timeout={300}>\n\t\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t\t\t\t<Route exact path=\"/login\" component={AuthUser} />\n\t\t\t\t\t\t\t\t<Route component={NoMatch} />\n\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t</TransitionGroup>\n\t\t\t\t</Container>\n\t\t\t);\n\t\t}}\n\t/>\n\t</>\n);\n\nexport { PublicRoutes };\n","import gql from 'graphql-tag';\n\nexport const UPDATE_INFLUENCER_MUTATION = gql`\n\tmutation updateInfluencer($data: InfluencerUpdateInput!) {\n\t\tupdateInfluencer(data: $data) {\n\t\t\tid\n\t\t}\n\t}\n`;\n","/**\n * PROFILE CREATION ARGS:\n * handle\n * name\n * bio\n * instagram\n *  */\n\nexport const updateProfile = (variables: any) => ({\n\tdata: {\n\t\tname: variables.name,\n\t\tbio: variables.bio,\n\t\thandle: variables.handle,\n\t\tsocial: {\n\t\t\tcreate: {\n\t\t\t\tstatus: 'PUBLISHED',\n\t\t\t\tinstagram: {\n\t\t\t\t\tcreate: {\n\t\t\t\t\t\thandle: variables.instagram,\n\t\t\t\t\t\tlink: `//instagram.com/${variables.instagram}`\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n});\n\n// # \t{\n// # \t\t\"public_id\": \"hiii-online/fgvdymjv3ler4vvj7ivv\",\n// # \t\t\"version\": 1555903555,\n// # \t\t\"signature\": \"d46b0e8e836e3409428111f7bb09f7c60b4b73ab\",\n// # \t\t\"width\": 640,\n// # \t\t\"height\": 640,\n// # \t\t\"format\": \"jpg\",\n// # \t\t\"resource_type\": \"image\",\n// # \t\t\"created_at\": \"2019-04-22T03:25:55Z\",\n// # \t\t\"tags\": [],\n// # \t\t\"bytes\": 109229,\n// # \t\t\"type\": \"upload\",\n// # \t\t\"etag\": \"5aae87a8852b022a97df7839c7ab3a88\",\n// # \t\t\"placeholder\": false,\n// # \t\t\"url\": \"http://res.cloudinary.com/divnlw0sj/image/upload/v1555903555/hiii-online/fgvdymjv3ler4vvj7ivv.jpg\",\n// # \t\t\"secure_url\": \"https://res.cloudinary.com/divnlw0sj/image/upload/v1555903555/hiii-online/fgvdymjv3ler4vvj7ivv.jpg\",\n// # \t\t\"access_mode\": \"public\",\n// # \t\t\"original_filename\": \"bot-4-59\"\n// # }\nexport const createFile = (variables: any) => {\n\treturn {\n\t\tpublic_id: variables.public_id,\n\t\tsecret: variables.signature,\n\t\tname: variables.original_filename,\n\t\turl: variables.url,\n\t\tsize: variables.bytes,\n\t\twidth: variables.width,\n\t\theight: variables.height,\n\t\tcontentType: `${variables.resource_type}/${variables.format}`\n\t};\n};\n","import gql from 'graphql-tag';\n\nexport const ME_QUERY = gql`\n\tquery meQuery {\n\t\tme {\n\t\t\tname\n\t\t\thandle\n\t\t\tbio\n\t\t\tavatar\n\t\t\tsocial {\n\t\t\t\tinstagram {\n\t\t\t\t\thandle\n\t\t\t\t\tlink\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n`;\n","import * as React from 'react';\nimport * as Yup from 'yup';\nimport styled from 'styled-components';\nimport FeatherIcon from 'feather-icons-react';\nimport Reward from 'react-rewards';\nimport { get } from 'lodash';\nimport { Formik, Form, Field, FieldProps, ErrorMessage } from 'formik';\nimport { SquareRightBorder } from '../styles/Shapes';\nimport { Inputs, Input, TextArea } from '../styles/Input';\nimport { Button } from '../styles/Button';\nimport { Mutation } from 'react-apollo';\nimport { UPDATE_INFLUENCER_MUTATION } from '../../api/mutation/updateInfluencer';\nimport { updateProfile } from '../../lib/formatters';\nimport { ME_QUERY } from '../../api/query/ME_QUERY';\n\nconst ProfileSchema = Yup.object().shape({\n\thandle: Yup.string().required('Required'),\n\tname: Yup.string().required('Required'),\n\tbio: Yup.string().required('Required'),\n\tinstagramURL: Yup.string()\n});\ninterface Profile {\n\t[key: string]: string;\n\thandle: string;\n\tname: string;\n\tbio: string;\n\tinstagram: string;\n}\n\ninterface INewProfileProps {\n\tprofile?: Profile;\n\thistory: {\n\t\tpush: (route: string) => void;\n\t\treplace: (route: string) => void;\n\t};\n}\n\n// TODO: Fix this type\nconst componentDict: {\n\t[key: string]: any;\n} = {\n\ttext: Input,\n\ttextarea: TextArea\n};\n\nconst fields = [\n\t{\n\t\tplaceholder: '@yourhandle',\n\t\tmaxLength: 30,\n\t\tname: 'handle',\n\t\ttype: 'text'\n\t},\n\t{\n\t\tplaceholder: 'What is your name?',\n\t\tmaxLength: 70,\n\t\tname: 'name',\n\t\ttype: 'text'\n\t},\n\t{\n\t\tplaceholder: 'Tell us about yourself',\n\t\tmaxLength: 150,\n\t\tname: 'bio',\n\t\ttype: 'textarea',\n\t\trows: '2',\n\t\tcols: '50'\n\t},\n\t{\n\t\tplaceholder: 'Got an Instagram account? Share it! @yourhandle',\n\t\tname: 'instagram',\n\t\ttype: 'text'\n\t}\n];\n\nconst profile: Profile = {\n\thandle: '',\n\tname: '',\n\tbio: '',\n\tinstagram: ''\n};\n\nconst NewProfile: React.FunctionComponent<INewProfileProps> = (props) => {\n\tconst reward = React.useRef<{\n\t\trewardMe: () => void;\n\t\tpunishMe: () => void;\n\t}>(null);\n\n\tconst renderFields = () => (\n\t\t<Inputs stack={true} stretch={true}>\n\t\t\t{fields.map((f) => {\n\t\t\t\t//TODO: Remove ignore once types are understood\n\t\t\t\t// @ts-ignore\n\t\t\t\tconst C: any = componentDict[f.type];\n\t\t\t\treturn (\n\t\t\t\t\t<Field\n\t\t\t\t\t\tkey={f.name}\n\t\t\t\t\t\tname={f.name}\n\t\t\t\t\t\trender={({ field }: FieldProps<Profile>) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t<C placeholder={f.placeholder} type={f.type} name={f.name} {...field} {...f} />\n\t\t\t\t\t\t\t\t\t<InputSnackbar>\n\t\t\t\t\t\t\t\t\t\t{!!f.maxLength && (\n\t\t\t\t\t\t\t\t\t\t\t<StyledLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{field.value.length} / {f.maxLength}\n\t\t\t\t\t\t\t\t\t\t\t</StyledLabel>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t<ErrorMessage name={f.name} component=\"span\" className=\"field-error\" />\n\t\t\t\t\t\t\t\t\t</InputSnackbar>\n\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t})}\n\t\t</Inputs>\n\t);\n\n\treturn (\n\t\t<StyledCont>\n\t\t\t<SquareRightBorder />\n\t\t\t<h1>New Profile</h1>\n\t\t\t<Mutation mutation={UPDATE_INFLUENCER_MUTATION} refetchQueries={[ { query: ME_QUERY } ]}>\n\t\t\t\t{(onboardingMutation: any) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Formik\n\t\t\t\t\t\t\tinitialValues={profile}\n\t\t\t\t\t\t\tvalidationSchema={ProfileSchema}\n\t\t\t\t\t\t\tonSubmit={async (variables: Profile) => {\n\t\t\t\t\t\t\t\tconst response = await onboardingMutation({\n\t\t\t\t\t\t\t\t\tvariables: updateProfile(variables)\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\tif (get(response, 'data.updateInfluencer.id')) {\n\t\t\t\t\t\t\t\t\tif (reward && reward.current) {\n\t\t\t\t\t\t\t\t\t\treward.current.rewardMe();\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tprops.history.push(`/profile`);\n\t\t\t\t\t\t\t\t\t}, 3000);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\trender={(form) => (\n\t\t\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t\t\t{renderFields()}\n\t\t\t\t\t\t\t\t\t<Reward ref={reward} type=\"confetti\">\n\t\t\t\t\t\t\t\t\t\t<Button disabled={!form.isSubmitting && !form.isValid} type=\"submit\">\n\t\t\t\t\t\t\t\t\t\t\t<FeatherIcon icon=\"arrow-right\" />\n\t\t\t\t\t\t\t\t\t\t\tCreate profile\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Reward>\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Mutation>\n\t\t\t<a>Need help?</a>\n\t\t</StyledCont>\n\t);\n};\n\nexport { NewProfile };\n\nconst StyledCont = styled.div`\n\tmax-width: 500px;\n\tmargin: 7.5rem auto;\n\ttext-align: center;\n\tposition: relative;\n\t.inputs {\n\t\ttext-align: initial;\n\t}\n\th1 {\n\t\tfont-size: 3rem;\n\t\tcolor: ${(props) => props.theme.colors.primaryText};\n\t\tmargin-top: 0;\n\t}\n\n\tbutton {\n\t\tmargin: 3rem auto 1rem auto;\n\t}\n\n\ta {\n\t\tfont-size: 0.9rem;\n\t\tcolor: #9e9e9e;\n\t\tdisplay: block;\n\t\tmargin-top: 1rem;\n\t\tcursor: pointer;\n\t}\n`;\n\nconst InputSnackbar = styled.div`\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: 0.5rem 0 2rem 0;\n`;\nconst StyledLabel = styled.span`\n\tdisplay: block;\n\tfont-size: 0.7rem;\n\tcolor: #9e9e9e;\n`;\n","declare var Blob: {\n\tprototype: Blob;\n\tnew (): Blob;\n};\n\nexport const blobToSrc = (blob: Blob) => {\n\t// @ts-ignore\n\tconst urlCreator = window.URL || window.webkitURL;\n\treturn urlCreator.createObjectURL(blob);\n};\n","import * as React from 'react';\nimport { withToastManager } from 'react-toast-notifications';\nimport styled from 'styled-components';\nimport Dropzone from 'react-dropzone';\nimport FeatherIcon from 'feather-icons-react';\nimport { blobToSrc } from '../../lib/blobToSrc';\n\nexport interface IUploadAvatarProps {\n\thandleFile: (data: any) => void;\n\ttoastManager: any;\n}\n\nexport interface IUploadAvatarState {\n\tpreview: any;\n}\n\nclass C extends React.Component<IUploadAvatarProps, IUploadAvatarState> {\n\tconstructor(props: IUploadAvatarProps) {\n\t\tsuper(props);\n\n\t\tthis.state = { preview: null };\n\t}\n\n\trenderUploadState(isDragActive: boolean, isDragReject: boolean) {\n\t\tlet message = 'Drop or drag';\n\n\t\tif (isDragActive && !isDragReject) {\n\t\t\tmessage = \"Drop it like it's hot!\";\n\t\t} else if (isDragReject) {\n\t\t\tmessage = 'File type not allowed';\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<FeatherIcon icon=\"upload\" />\n\t\t\t\t<p>{message}</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleFile = async (file: any) => {\n\t\tconst { toastManager } = this.props;\n\n\t\tif (!file[0]) {\n\t\t\ttoastManager.add('File not allowed!', {\n\t\t\t\tappearance: 'error',\n\t\t\t\tautoDismiss: true\n\t\t\t});\n\n\t\t\treturn;\n\t\t}\n\n\t\tconst data = new FormData();\n\n\t\t// set preview\n\t\tdata.append('file', file[0]);\n\t\tdata.append('upload_preset', process.env.REACT_APP_UPLOAD_PRESET as string);\n\t\tthis.setPreview(file);\n\n\t\t// pass blob to parent\n\t\tthis.props.handleFile(data);\n\t};\n\n\tsetPreview(file: any) {\n\t\t// clear old file preview\n\t\twindow.URL.revokeObjectURL(this.state.preview);\n\n\t\t// set new preview\n\t\tthis.setState({ preview: blobToSrc(file[0]) });\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<Dropzone accept=\"image/png, image/jpeg\" minSize={0} maxSize={5e6} onDrop={(file) => this.handleFile(file)}>\n\t\t\t\t{({ getRootProps, getInputProps, isDragActive, isDragReject }) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<StyledUpload {...getRootProps()}>\n\t\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t\t{this.state.preview ? (\n\t\t\t\t\t\t\t\t<img src={this.state.preview} />\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tthis.renderUploadState(isDragActive, isDragReject)\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</StyledUpload>\n\t\t\t\t\t);\n\t\t\t\t}}\n\t\t\t</Dropzone>\n\t\t);\n\t}\n}\n\nconst UploadAvatar = withToastManager(C);\n\nexport { UploadAvatar };\n\nconst StyledUpload = styled.div`\n\tborder-radius: 4px;\n\tmin-width: 250px;\n\tmin-height: 250px;\n\tmax-width: 250px;\n\tmax-height: 250px;\n\tbackground-color: #eeeeee;\n\tmargin: 3rem auto;\n\tborder: 2px solid #e0e0e0;\n\toutline: none;\n\tposition: relative;\n\tcursor: pointer;\n\n\timg {\n\t\tmax-width: 250px;\n\t\tmin-width: 250px;\n\t\tmax-height: 250px;\n\t\tmin-height: 250px;\n\t\tborder-radius: 4px;\n\t\ttransform: scale(1.05);\n\t\ttransition: 0.3s ease-in-out;\n\t}\n\n\tdiv {\n\t\tposition: absolute;\n\t\ttop: 32.5%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t\ttext-align: center;\n\n\t\tp {\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 1px;\n\t\t\tfont-size: 0.8rem;\n\t\t\tmargin-top: 1.5rem;\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\n\tsvg {\n\t\theight: 3rem;\n\t\twidth: 3rem;\n\t\tstroke: #9e9e9e;\n\t\topacity: 0.5;\n\t}\n`;\n","import gql from 'graphql-tag';\n\nexport const UPLOAD_FILE_MUTATION = gql`\n\tmutation uploadFile(\n\t\t$public_id: String!\n\t\t$secret: String!\n\t\t$name: String!\n\t\t$url: String!\n\t\t$contentType: String!\n\t\t$size: Int!\n\t\t$width: Int\n\t\t$height: Int\n\t) {\n\t\tuploadFile(\n\t\t\tpublic_id: $public_id\n\t\t\tsecret: $secret\n\t\t\tname: $name\n\t\t\turl: $url\n\t\t\tsize: $size\n\t\t\twidth: $width\n\t\t\theight: $height\n\t\t\tcontentType: $contentType\n\t\t) {\n\t\t\tid\n\t\t\turl\n\t\t}\n\t}\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport FeatherIcon from 'feather-icons-react';\nimport Reward from 'react-rewards';\nimport { get } from 'lodash';\nimport { Mutation } from 'react-apollo';\nimport { withToastManager } from 'react-toast-notifications';\nimport { UploadAvatar } from './UploadAvatar';\nimport { zoomIn, fadeIn } from '../styles/Keyframes';\nimport { createFile } from '../../lib/formatters';\nimport { Button } from '../styles/Button';\nimport { UPDATE_INFLUENCER_MUTATION } from '../../api/mutation/updateInfluencer';\nimport { ME_QUERY } from '../../api/query/ME_QUERY';\nimport { UPLOAD_FILE_MUTATION } from '../../api/mutation/uploadFile';\n\ninterface INewAvatarProps {\n\thistory: {\n\t\tpush: (route: string) => void;\n\t};\n\tskipUpload: () => void;\n}\n\nconst C: React.FunctionComponent<INewAvatarProps> = (props) => {\n\tconst [ loading, setLoading ] = React.useState(false);\n\tconst [ file, setFile ] = React.useState();\n\tconst reward = React.useRef<{\n\t\trewardMe: () => void;\n\t\tpunishMe: () => void;\n\t}>(null);\n\n\tconst handleFile = async (data: any) => {\n\t\tsetFile(data);\n\t};\n\n\tconst attemptSubmit = async (createFileMutation: any, updateInfluencer: any) => {\n\t\tsetLoading(true);\n\t\tconst url = `https://api.cloudinary.com/v1_1/${process.env.REACT_APP_CLOUD_NAME}/image/upload`;\n\t\ttry {\n\t\t\t// do the upload\n\t\t\tconst response = await fetch(url, {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: file\n\t\t\t});\n\t\t\tlet data = await response.json();\n\n\t\t\tconst variables = createFile(data);\n\t\t\tconst fileCreateResponse = await createFileMutation({\n\t\t\t\tvariables\n\t\t\t});\n\n\t\t\tconst setAvatarResponse = await updateInfluencer({\n\t\t\t\tvariables: {\n\t\t\t\t\tdata: {\n\t\t\t\t\t\tavatar: get(fileCreateResponse, 'data.uploadFile.url')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (get(setAvatarResponse, 'data.updateInfluencer.id')) {\n\t\t\t\tif (reward && reward.current) {\n\t\t\t\t\treward.current.rewardMe();\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tprops.history.push(`/profile`);\n\t\t\t\t}, 2000);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<StyledCont>\n\t\t\t<h1>Upload your photo</h1>\n\t\t\t<p>...or dont, anyway is cool</p>\n\t\t\t<Mutation mutation={UPDATE_INFLUENCER_MUTATION} refetchQueries={[ { query: ME_QUERY } ]}>\n\t\t\t\t{(updateInfluencer: any) => (\n\t\t\t\t\t<Mutation mutation={UPLOAD_FILE_MUTATION}>\n\t\t\t\t\t\t{(createFileMutation: any) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<UploadAvatar handleFile={handleFile} />\n\t\t\t\t\t\t\t\t\t<Reward ref={reward} type=\"confetti\">\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => attemptSubmit(createFileMutation, updateInfluencer)}\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{file && <FeatherIcon icon=\"upload\" />}\n\t\t\t\t\t\t\t\t\t\t\tUpload\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Reward>\n\t\t\t\t\t\t\t\t\t<div className=\"skip-upload\" onClick={() => props.skipUpload()}>\n\t\t\t\t\t\t\t\t\t\tSkip\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t</Mutation>\n\t\t\t\t)}\n\t\t\t</Mutation>\n\t\t</StyledCont>\n\t);\n};\n\nconst NewAvatar = withToastManager(C);\n\nexport { NewAvatar };\n\nconst StyledCont = styled.div`\n\tmax-width: 500px;\n\tmargin: 12.5vh auto;\n\ttext-align: center;\n\tanimation: ${fadeIn} 0.5s ease-in-out;\n\n\tbutton {\n\t\tdisplay: block;\n\t\tmargin: 1rem auto;\n\n\t\tsvg {\n\t\t\tanimation: ${zoomIn} 0.2s ease-in-out forwards;\n\t\t}\n\t}\n\n\t.skip-upload {\n\t\tfont-size: 0.9rem;\n\t\tcolor: #9e9e9e;\n\t\tdisplay: block;\n\t\tmargin-top: 2rem;\n\t\tcursor: pointer;\n\t}\n`;\n","import * as React from 'react';\nimport get from 'lodash/get';\nimport { Container } from '../styles/Container';\nimport { NewProfile } from './NewProfile';\nimport { NewAvatar } from './NewAvatar';\n\nexport interface IProfile {\n\tname: string;\n\thandle: string;\n\tbio: string;\n\tavatar: string;\n\tsocial: {\n\t\tinstagram: {\n\t\t\thandle: string;\n\t\t\tlink: string;\n\t\t};\n\t};\n}\nexport interface IProfileProps {\n\tprofile: IProfile;\n}\n\nexport interface IProfileState {\n\tskip: boolean;\n}\n\nclass Profile extends React.Component<IProfileProps, IProfileState> {\n\tconstructor(props: IProfileProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tskip: false\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps() {\n\t\twindow.scrollTo(0, 0);\n\t}\n\n\tsetSkip = () => this.setState((state) => ({ skip: !state.skip }));\n\n\tprivate renderProfile(props: any) {\n\t\tif (!get(props, 'profile.avatar', null) || this.state.skip) {\n\t\t\treturn <NewAvatar history={props.history} skipUpload={this.setSkip} />;\n\t\t}\n\n\t\tif (!get(props, 'profile.name', null)) {\n\t\t\treturn <NewProfile history={props.history} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<h1>Hiii {props.profile.name}</h1>\n\t\t\t\t<pre>{JSON.stringify(props.profile, null, 3)}</pre>\n\t\t\t</div>\n\t\t);\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Container>{this.renderProfile({ ...this.props })}</Container>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport { Profile };\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nconst Loader = styled.div`\n\t/*  begin rect css */\n\tmargin: 100px auto;\n\twidth: 50px;\n\theight: 40px;\n\ttext-align: center;\n\tfont-size: 10px;\n\n\t> div {\n\t\tbackground-color: ${(props) => props.theme.colors.primaryColor};\n\t\theight: 100%;\n\t\twidth: 6px;\n\t\tdisplay: inline-block;\n\t\tanimation: sk-stretchdelay 1.2s infinite ease-in-out;\n\t}\n\n\t& .rect2 {\n\t\tanimation-delay: -1.1s;\n\t}\n\n\t& .rect3 {\n\t\tanimation-delay: -1.0s;\n\t}\n\n\t& .rect4 {\n\t\tanimation-delay: -0.9s;\n\t}\n\n\t& .rect5 {\n\t\tanimation-delay: -0.8s;\n\t}\n\n\t@keyframes sk-stretchdelay {\n\t\t0%,\n\t\t40%,\n\t\t100% {\n\t\t\ttransform: scaleY(0.4);\n\t\t}\n\t\t20% {\n\t\t\ttransform: scaleY(1.0);\n\t\t}\n\t}\n`;\n\nexport function Shapes(props: any) {\n\treturn (\n\t\t<Loader {...props}>\n\t\t\t<div className=\"rect1\" />\n\t\t\t<div className=\"rect2\" />\n\t\t\t<div className=\"rect3\" />\n\t\t\t<div className=\"rect4\" />\n\t\t\t<div className=\"rect5\" />\n\t\t</Loader>\n\t);\n}\n","import * as React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { Shapes } from './Shapes';\n\nconst loaderFigKeys = keyframes`\n  0% {\n      height: 0;\n      width: 0;\n      background-color: var(--primary-color);\n    }\n\n  50% {\n    height: 20rem;\n    width: 20rem;\n    background-color: var(--tertiary-color);\n    border-width: 1em;\n    opacity: .05;\n  }\n\n  100% {\n    height: 40rem;\n    width: 40rem;\n    border-width: 0;\n    opacity: 1;\n    background-color: transparent;\n  }\n  \n`;\n\nconst labelKeys = keyframes`\n  0% {\n    opacity: 0.25;\n  }\n  30% {\n    opacity: 1;\n  }\n  100% {\n    opacity: 0.25;\n  }\n`;\n\nconst Wrapper = styled.div`\n\tz-index: 11;\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n`;\n\nconst Figure = styled.div`\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\theight: 0;\n\twidth: 0;\n\tbox-sizing: border-box;\n\tborder: 0 solid var(--primary-color);\n\tborder-radius: 50%;\n\tanimation: ${loaderFigKeys} 2s infinite cubic-bezier(0.215, 0.61, 0.355, 1);\n`;\n\nconst Label = styled.p`\n\tfloat: left;\n\tmargin-left: 50%;\n\ttransform: translateX(-50%);\n\tmargin: 0.5em 0 0 50%;\n\tfont-size: 0.875em;\n\tletter-spacing: 0.1em;\n\tline-height: 1.5em;\n\tcolor: #050002;\n\twhite-space: nowrap;\n\tanimation: ${labelKeys} 1.15s infinite cubic-bezier(0.215, 0.61, 0.355, 1);\n`;\n\nconst Loader = ({ label }: { label: string }) => (\n\t<Wrapper>\n\t\t<Figure />\n\t\t<Label>{label}</Label>\n\t</Wrapper>\n);\n\nLoader.Shapes = Shapes;\n\nLoader.defaultProps = {\n\tlabel: 'Loading...'\n};\n\nexport { Loader };\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { Button } from '../styles/Button';\n\ninterface INoPromosProps {\n\thistory: {\n\t\tpush: (route: string) => void;\n\t};\n}\n\nconst NoPromos: React.FunctionComponent<INoPromosProps> = (props) => (\n\t<StyledNoPromos>\n\t\t<h3>You dont have any promos</h3>\n\t\t<p>Publish a new promo and make your followers happy</p>\n\t\t<Button onClick={() => props.history.push('/promos/new')}>Create</Button>\n\t</StyledNoPromos>\n);\n\nexport { NoPromos };\n\nconst StyledNoPromos = styled.div`\n\ttext-align: center;\n\tmargin-top: 15vh;\n\tmargin-bottom: 15vh;\n\n\th3 {\n\t\tfont-size: 1.75rem;\n\t\tmargin-bottom: 0.5rem;\n\t}\n\n\tp {\n\t\tfont-size: 0.9rem;\n\t\tcolor: #9e9e9e;\n\t\tmargin-top: 0;\n\t}\n\n\tbutton {\n\t\tmargin-top: 2rem;\n\t}\n`;\n","import React, { Fragment } from 'react';\nimport { IPromo } from './Promos';\n\ninterface IPromosListProps {\n\tlist: IPromo[];\n}\n\nconst PromosList: React.FunctionComponent<IPromosListProps> = ({ list }) => (\n\t<Fragment>{list.map((promo) => <li key={promo.id}>{promo.title}</li>)}</Fragment>\n);\n\nexport { PromosList };\n","import * as React from 'react';\nimport { NoPromos } from './NoPromos';\nimport { PromosList } from './PromosList';\n\nexport interface IPromo {\n\t[key: string]: any;\n\ttitle: string;\n\tdescription: string;\n\tcategory: string;\n\texpires: string;\n\tcode: string;\n\tdiscount: string;\n\tproducts: any[];\n}\n\ninterface IPromosProps {\n\tpromos: IPromo;\n\thistory: {\n\t\tpush: (route: string) => void;\n\t};\n}\n\nconst promos: IPromo[] = [];\n\nconst Promos: React.FunctionComponent<IPromosProps> = (props) => {\n\tconst renderPromos = () => {\n\t\tif (!promos.length) {\n\t\t\treturn <NoPromos history={props.history} />;\n\t\t}\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<h1>My Promos</h1>\n\t\t\t\t<PromosList list={promos} />\n\t\t\t</React.Fragment>\n\t\t);\n\t};\n\n\treturn <div>{renderPromos()}</div>;\n};\n\nexport { Promos };\n","import * as React from 'react';\nimport styled, { DefaultTheme } from 'styled-components';\n\ninterface ICheckboxProps {\n\tchecked: boolean;\n\tonChange: () => void;\n\tclassName?: string;\n\tid?: string;\n}\n\nconst Checkbox: React.FunctionComponent<ICheckboxProps> = ({ className, checked, ...props }) => {\n\treturn (\n\t\t<CheckboxContainer className={className}>\n\t\t\t<HiddenCheckbox checked={checked} {...props} />\n\t\t\t<StyledCheckbox checked={checked}>\n\t\t\t\t{checked ? (\n\t\t\t\t\t<Icon viewBox=\"0 0 24 24\">\n\t\t\t\t\t\t<polyline points=\"20 6 9 17 4 12\" />\n\t\t\t\t\t</Icon>\n\t\t\t\t) : null}\n\t\t\t</StyledCheckbox>\n\t\t</CheckboxContainer>\n\t);\n};\n\nexport { Checkbox };\n\nconst CheckboxContainer = styled.div`\n\tdisplay: inline-block;\n\tvertical-align: middle;\n\tmin-height: 50px;\n\tmargin-bottom: -15px;\n`;\n\nconst HiddenCheckbox = styled.input.attrs({ type: 'checkbox' })`\n    border: 0;\n    clip: rect(0 0 0 0);\n    clippath: inset(50%);\n    height: 1px;\n    margin: -1px;\n    overflow: hidden;\n    padding: 0;\n    position: absolute;\n    white-space: nowrap;\n    width: 1px;\n`;\n\nconst StyledCheckbox = styled.div`\n\tdisplay: inline-block;\n\twidth: 30px;\n\theight: 30px;\n\tbackground: ${({ checked, theme }: { checked: boolean; theme: DefaultTheme }) =>\n\t\tchecked ? theme.colors.primaryColor : '#c5cae9'};\n\tborder-radius: 4px;\n\tborder: 2px solid ${(props) => props.theme.colors.primaryColor};\n\ttransition: all 0.15s;\n\n\t${HiddenCheckbox}:focus + & {\n\t\tbox-shadow: 0 0 0 2px ${(props) => props.theme.colors.secondaryColor};\n\t}\n`;\n\nconst Icon = styled.svg`\n\tfill: none;\n\tstroke: white;\n\tstroke-width: 2px;\n`;\n","interface ICategory {\n\tvalue: string;\n\tlabel: string;\n}\n\nexport const categories: ICategory[] = [\n\t{ value: 'Animals & Pet Supplies', label: ' Animals & Pet Supplies' },\n\t{ value: 'Apparel & Accessories', label: ' Apparel & Accessories' },\n\t{ value: 'Arts & Entertainment', label: ' Arts & Entertainment' },\n\t{ value: 'Baby & Toddler', label: ' Baby & Toddler' },\n\t{ value: 'Business & Industrial', label: ' Business & Industrial' },\n\t{ value: 'Cameras & Optics', label: ' Cameras & Optics' },\n\t{ value: 'Electronics', label: ' Electronics' },\n\t{ value: 'Food, Beverages & Tobacco', label: ' Food, Beverages & Tobacco' },\n\t{ value: 'Furniture', label: ' Furniture' },\n\t{ value: 'Hardware', label: ' Hardware' },\n\t{ value: 'Health & Beauty', label: ' Health & Beauty' },\n\t{ value: 'Home & Garden', label: ' Home & Garden' },\n\t{ value: 'Luggage & Bags', label: ' Luggage & Bags' },\n\t{ value: 'Mature', label: ' Mature' },\n\t{ value: 'Media', label: ' Media' },\n\t{ value: 'Office Supplies', label: ' Office Supplies' },\n\t{ value: 'Religious & Ceremonial', label: ' Religious & Ceremonial' },\n\t{ value: 'Software', label: ' Software' },\n\t{ value: 'Sporting Goods', label: ' Sporting Goods' },\n\t{ value: 'Toys & Games', label: ' Toys & Games' },\n\t{ value: 'Vehicles & Parts', label: ' Vehicles & Parts' }\n];\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport Select from 'react-select';\nimport { Label } from '../../styles/Input';\nimport { categories } from '../../../lib/data';\n\ninterface ISelectCategoryProps {\n\tcategory: string;\n\thandleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst SelectCategory: React.FunctionComponent<ISelectCategoryProps> = ({ category, handleChange }) => {\n\tconst options = categories;\n\treturn (\n\t\t<StyledSelect>\n\t\t\t<Label htmlFor=\"category\" text=\"Category\" />\n\t\t\t<Select\n\t\t\t\tname=\"category\"\n\t\t\t\tvalue={options.find((o) => o.value === category)}\n\t\t\t\toptions={options}\n\t\t\t\tonChange={(e: any) => handleChange(e.value)}\n\t\t\t\tstyles={selectStyles}\n\t\t\t\ttheme={(theme: any) => ({\n\t\t\t\t\t...theme,\n\t\t\t\t\tcolors: {\n\t\t\t\t\t\t...theme.colors,\n\t\t\t\t\t\tprimary: '#6927ff'\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t/>\n\t\t</StyledSelect>\n\t);\n};\n\nexport { SelectCategory };\n\nconst StyledSelect = styled.div`\n\tinput {\n\t\tmin-height: 2.65rem;\n\t\tmax-height: 2.65rem;\n\t\tpadding: 26.5px 8px;\n\t}\n`;\n\nconst selectStyles = {\n\tcontrol: (base: any, state: { isFocused: boolean; isActive: boolean }) => ({\n\t\t...base,\n\t\tborderRadius: '4px',\n\t\toutline: 'none',\n\t\ttransition: '0.3s ease-in-out',\n\t\tboxShadow: state.isFocused || state.isActive ? '0 0 0 2px #837dff' : 'none',\n\t\tborder: state.isFocused || state.isActive ? '1.5px solid #837dff' : '1.5px solid #e0e0e0'\n\t})\n};\n","// validate form represented by an objects fields\n// releated to the passed inn error handling functions\n// @ts-ignore\nexport function validateFormByObj(obj, errHandler) {\n\tconst errors = Object.entries(obj).map(([ field, value ]) => errHandler(field, value)).filter((v) => v);\n\n\t// return true if no errors or a list of errors\n\treturn errors.length === 0 || errors;\n}\n","export const promoErrorHandler = (field: string, value: any) => {\n\t// handle empty defaults\n\tif (!value) return setEmpyErrMsg(field);\n\n\t// handle erros releated to promo info\n\tif (field === 'title' || field === 'description') return setPromoInfoErrMsg(field, value);\n\n\t// handle errors releated to promo code\n\tif (field === 'code' || field === 'amount' || field === 'expires') return setCodeErrMsg(field, value);\n};\n\nfunction setEmpyErrMsg(field: string) {\n\tswitch (field) {\n\t\tcase 'category':\n\t\t\treturn `Please select a ${field}`;\n\n\t\tdefault:\n\t\t\treturn `Please fill out ${field}`;\n\t}\n}\n\nfunction setPromoInfoErrMsg(field: string, value: any) {\n\tswitch (field) {\n\t\tcase 'title':\n\t\t\tif (!isBetween(value.length, 2, 70)) {\n\t\t\t\treturn `${field} must be between 2 and 70 characters`;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'description':\n\t\t\tif (!isBetween(value.length, 20, 500)) {\n\t\t\t\treturn `${field} must be between 20 and 500 characters`;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn '';\n\t}\n}\n\nfunction setCodeErrMsg(field: string, value: any) {\n\tswitch (field) {\n\t\tcase 'code':\n\t\t\tif (value.length > 255) {\n\t\t\t\treturn `${field} cant be longer than 255 characters`;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'discount':\n\t\t\tif (value.length > 3 || !isBetween(parseInt(value), 1, 100)) {\n\t\t\t\treturn `${field} must be between 1 - 100%`;\n\t\t\t}\n\t\t\tbreak;\n\n\t\tcase 'expires':\n\t\t\t// TODO: replace with date validation\n\t\t\t//if (!isValidDate(value))\n\t\t\t//return `${field} is not in a valid date format. (mm/dd/yyyy)`;\n\t\t\tbreak;\n\t\tdefault:\n\t\t\treturn `Please fill out ${field}`;\n\t}\n}\n\nfunction isBetween(n: number, min: number, max: number): boolean {\n\treturn n >= min && n <= max;\n}\n","export function alertFormError(ctx: any, err: string) {\n\tconst { toastManager } = ctx;\n\n\t// if components ctx is not wrapped in a toastManager, exit early\n\tif (!toastManager) return;\n\n\t// split format fields needed and display alert in components ctx passed in\n\ttoastManager.add(err.split('_').join(' '), {\n\t\tappearance: 'error',\n\t\tautoDismiss: true,\n\t\tautoDismissTimeout: 4000\n\t});\n}\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport FeatherIcons from 'feather-icons-react';\nimport { withToastManager } from 'react-toast-notifications';\nimport { IPromo } from '../Promos';\nimport { Inputs, Label, Input } from '../../styles/Input';\nimport { Button } from '../../styles/Button';\nimport { Checkbox } from '../../styles/Checkbox';\nimport { SelectCategory } from './SelectCategory';\nimport { validateFormByObj } from '../../../validators/validate';\nimport { promoErrorHandler } from '../../../validators/promo';\nimport { alertFormError } from '../../../lib/alertErrorForm';\nimport { IField } from './types';\n\nexport interface IPromoFormProps {\n\tupdatePromo: (promo: IPromo) => void;\n\tpromo: IPromo;\n}\n\nexport interface IPromoFormState {\n\tpromo: IPromo;\n\tchecked: boolean;\n\tcodeFields: any[];\n}\n\nconst infoFields: IField[] = [\n\t{\n\t\tplaceholder: 'Title of promotion',\n\t\tmax: 70,\n\t\tmin: 1,\n\t\tname: 'title',\n\t\ttype: 'text',\n\t\trequired: true,\n\t\terror: false\n\t},\n\t{\n\t\tplaceholder: 'Description of promotion',\n\t\tmax: 255,\n\t\tmin: 1,\n\t\tname: 'description',\n\t\ttype: 'text',\n\t\trequired: true,\n\t\terror: false\n\t}\n];\n\nclass C extends React.Component<IPromoFormProps, IPromoFormState> {\n\tconstructor(props: IPromoFormProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpromo: this.props.promo,\n\t\t\tchecked: false,\n\t\t\tcodeFields: []\n\t\t};\n\t}\n\n\tcomponentDidMount = () => {\n\t\twindow.scrollTo(0, 0);\n\n\t\tthis.setState(\n\t\t\t{\n\t\t\t\tchecked: this.props.promo.code ? true : false\n\t\t\t},\n\t\t\t() => {\n\t\t\t\t// set code fields with potensial deactivation\n\t\t\t\tthis.setState({\n\t\t\t\t\tcodeFields: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: 'Promotion code',\n\t\t\t\t\t\t\tmax: 255,\n\t\t\t\t\t\t\tmin: 2,\n\t\t\t\t\t\t\tname: 'code',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t\tdisabled: !this.state.checked\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: 'Discount amount',\n\t\t\t\t\t\t\tmax: 3,\n\t\t\t\t\t\t\tmin: 1,\n\t\t\t\t\t\t\tname: 'discount',\n\t\t\t\t\t\t\ttype: 'text',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t\tdisabled: !this.state.checked,\n\t\t\t\t\t\t\tonChange: (e: React.ChangeEvent<HTMLInputElement>) => this.formatStringNumFromEvent(e)\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tplaceholder: 'When does the promotion expire?',\n\t\t\t\t\t\t\tname: 'expires',\n\t\t\t\t\t\t\ttype: 'date',\n\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\tmin: new Date().toISOString().split('T')[0],\n\t\t\t\t\t\t\terror: false,\n\t\t\t\t\t\t\tdisabled: !this.state.checked\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t};\n\n\tprivate formatStringNumFromEvent = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconst parsed = parseInt(e.target.value);\n\n\t\t// remove trailing zeros\n\t\te.target.value = e.target.value\n\t\t\t.split('')\n\t\t\t.map((c: string) => (c === '0' && e.target.value.length === 1 ? '' : c))\n\t\t\t.join('');\n\n\t\t// @ts-ignore\n\t\tif (parsed < 0) e.target.value = 1;\n\t\t// @ts-ignore\n\t\tif (parsed > 100) e.target.value = 100;\n\n\t\tthis.handleChange(e);\n\t};\n\n\tprivate handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\t// handles all fields and select\n\t\tconst toUpdate = typeof e === 'object' ? { [e.target.name]: e.target.value } : { ['category']: e };\n\n\t\tthis.setState({\n\t\t\tpromo: {\n\t\t\t\t...this.state.promo,\n\t\t\t\t...toUpdate\n\t\t\t}\n\t\t});\n\t};\n\n\tprivate handleCheckboxChange = () => {\n\t\tthis.setState({\n\t\t\tchecked: !this.state.checked,\n\t\t\tcodeFields: this.state.codeFields.map((f) => ({ ...f, disabled: this.state.checked }))\n\t\t});\n\t};\n\n\tprivate validatePromo() {\n\t\t// handle validation\n\t\tconst { category, title, description } = this.state.promo;\n\t\tconst valid = validateFormByObj(\n\t\t\tthis.state.checked ? this.state.promo : { category, title, description },\n\t\t\tpromoErrorHandler\n\t\t);\n\n\t\tif (typeof valid === 'object') {\n\t\t\treturn valid.forEach((err) => alertFormError(this.props, err));\n\t\t}\n\n\t\tthis.props.updatePromo(this.state.promo);\n\t}\n\n\tprivate renderFields(fields: IField[]) {\n\t\treturn fields.map((field: IField) => {\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={field.name}>\n\t\t\t\t\t<Label htmlFor={field.name} text={field.name.split('_').join(' ')} />\n\t\t\t\t\t<Input\n\t\t\t\t\t\t{...field}\n\t\t\t\t\t\tvalue={this.state.promo[field.name] || ''}\n\t\t\t\t\t\tonChange={field.onChange || ((e) => this.handleChange(e))}\n\t\t\t\t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\t}\n\tpublic render() {\n\t\treturn (\n\t\t\t<StyledCont>\n\t\t\t\t<StyledGrid>\n\t\t\t\t\t<div className=\"form info\">\n\t\t\t\t\t\t<Inputs stretch={true}>\n\t\t\t\t\t\t\t<SelectCategory category={this.state.promo.category} handleChange={this.handleChange} />\n\t\t\t\t\t\t\t{this.renderFields(infoFields)}\n\t\t\t\t\t\t</Inputs>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"form\">\n\t\t\t\t\t\t<div id=\"checkbox\">\n\t\t\t\t\t\t\t<label className=\"no-select\">\n\t\t\t\t\t\t\t\t<Checkbox checked={this.state.checked} onChange={() => this.handleCheckboxChange()} />\n\t\t\t\t\t\t\t\t<span>Got a promotion code?</span>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<Inputs stretch={true}>{this.renderFields(this.state.codeFields)}</Inputs>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button onClick={() => this.validatePromo()}>\n\t\t\t\t\t\t\t<FeatherIcons icon=\"arrow-right\" />\n\t\t\t\t\t\t\tContinue\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</StyledGrid>\n\t\t\t</StyledCont>\n\t\t);\n\t}\n}\n\nconst PromoForm = withToastManager(C);\n\nexport { PromoForm };\n\nconst StyledCont = styled.div`\n\tmax-width: 85%;\n\tmargin: 6rem auto;\n\n\tbutton {\n\t\tmin-width: 250px !important;\n\t\tmargin-top: 3rem !important;\n\t}\n`;\n\nconst StyledGrid = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: 1fr 1fr;\n\tgrid-column-gap: 5rem;\n\tmin-width: 100%;\n\tmax-width: 100%;\n\tmargin: 0 auto;\n\n\t@media screen and (min-width: 1600px) {\n\t\tmin-width: 1000px;\n\t\tmax-width: 1000px;\n\t}\n\n\t.form {\n\t\tmin-width: 100%;\n\t\tmax-width: 500px;\n\t\tmargin: 0 auto;\n\n\t\t&.info {\n\t\t\tmargin-top: 2.25rem;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 1100px) {\n\t\tgrid-template-columns: 100%;\n\t\tmin-width: 600px;\n\t\tmax-width: 600px;\n\n\t\t.form {\n\t\t\tmargin-bottom: 6rem;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 800px) {\n\t\tmin-width: 100%;\n\t\tmax-width: 100%;\n\t}\n\n\t#info-form {\n\t\tmargin-top: 2.3rem;\n\t}\n\n\t#checkbox {\n\t\tspan {\n\t\t\tfont-weight: 600;\n\t\t\tmargin-left: 0.75rem;\n\t\t\tfont-size: 1rem;\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 2px;\n\t\t\tcolor: #253858;\n\t\t\tpointer-events: none;\n\t\t}\n\t}\n`;\n","export const productErrorHandler = (field: string, value: any) => {\n\t// handle empty defaults\n\tif (!value) return setEmpyErrMsg(field);\n\n\treturn '';\n};\n\nfunction setEmpyErrMsg(field: string) {\n\tswitch (field) {\n\t\tdefault:\n\t\t\treturn `Please fill out ${field}`;\n\t}\n}\n\nfunction _setProductErrMsg(field: string, _value: any) {\n\tswitch (field) {\n\t\tdefault:\n\t\t\treturn '';\n\t}\n}\nproductErrorHandler;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport Dropzone from 'react-dropzone';\nimport FeatherIcon from 'feather-icons-react';\nimport { blobToSrc } from '../../../lib/blobToSrc';\n\ninterface IUploadPromoImageProps {\n\tsource: any;\n\thandleFile: (file: any) => void;\n\treset: boolean;\n}\n\ninterface IUploadPromoImageState {\n\tpreview: any;\n}\n\nclass UploadPromoImage extends React.Component<IUploadPromoImageProps, IUploadPromoImageState> {\n\tconstructor(props: IUploadPromoImageProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tpreview: this.props.source || null\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps: any) {\n\t\tif (nextProps.reset) {\n\t\t\tthis.setState({ preview: null });\n\t\t}\n\n\t\tif (nextProps.source) {\n\t\t\tthis.setState({\n\t\t\t\tpreview: nextProps.source\n\t\t\t});\n\t\t}\n\t}\n\n\trenderUploadState(isDragActive: boolean, isDragReject: boolean) {\n\t\tlet message = 'Drop or drag an image of product';\n\n\t\tif (isDragActive && !isDragReject) {\n\t\t\tmessage = \"Drop it like it's hot!\";\n\t\t} else if (isDragReject) {\n\t\t\tmessage = 'File type not allowed';\n\t\t}\n\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<FeatherIcon icon=\"upload\" />\n\t\t\t\t<p>{message}</p>\n\t\t\t</div>\n\t\t);\n\t}\n\n\thandleFile = (file: any) => {\n\t\tconst data = new FormData();\n\n\t\t// set preview\n\t\tdata.append('promo', file[0], file.name);\n\t\tthis.setPreview(file);\n\n\t\t// pass blob to parent\n\t\tthis.props.handleFile(data);\n\t};\n\n\tsetPreview(file: any) {\n\t\twindow.URL.revokeObjectURL(this.state.preview);\n\n\t\t// set new preview\n\t\tthis.setState({ preview: blobToSrc(file[0]) });\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<Dropzone accept=\"image/png, image/jpeg\" minSize={0} maxSize={5e6} onDrop={(file) => this.handleFile(file)}>\n\t\t\t\t{({ getRootProps, getInputProps, isDragActive, isDragReject }) => (\n\t\t\t\t\t<StyledUpload {...getRootProps()}>\n\t\t\t\t\t\t<input {...getInputProps()} />\n\t\t\t\t\t\t{this.state.preview ? (\n\t\t\t\t\t\t\t<img src={this.state.preview} />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tthis.renderUploadState(isDragActive, isDragReject)\n\t\t\t\t\t\t)}\n\t\t\t\t\t</StyledUpload>\n\t\t\t\t)}\n\t\t\t</Dropzone>\n\t\t);\n\t}\n}\n\nexport { UploadPromoImage };\n\nconst StyledUpload = styled.div`\n\tborder-radius: 4px;\n\tmin-height: 24rem;\n\tmin-width: 20rem;\n\tmax-height: 24rem;\n\tmax-width: 20rem;\n\tbackground-color: #eeeeee;\n\tmargin: 2rem auto;\n\tborder: 2px solid #e0e0e0;\n\toutline: none;\n\tposition: relative;\n\tcursor: pointer;\n\ttext-align: center;\n\tgrid-area: upload;\n\n\timg {\n\t\tborder-radius: 4px;\n\t\tmin-width: 20rem;\n\t\tmin-height: 25rem;\n\t\tmax-width: 20rem;\n\t\tmax-height: 25rem;\n\t\ttransform: scale(1.025);\n\t\ttransition: 0.3s ease-in-out;\n\t}\n\n\tdiv {\n\t\tposition: absolute;\n\t\ttop: 37.5%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%);\n\t\ttext-align: center;\n\n\t\tp {\n\t\t\ttext-transform: uppercase;\n\t\t\tletter-spacing: 1px;\n\t\t\tfont-size: 0.8rem;\n\t\t\tmargin-top: 1.5rem;\n\t\t\topacity: 0.5;\n\t\t}\n\t}\n\n\tsvg {\n\t\theight: 3rem;\n\t\twidth: 3rem;\n\t\tstroke: #9e9e9e;\n\t\topacity: 0.5;\n\t}\n\n\t@media screen and (max-width: 400px) {\n\t\tmax-width: 100%;\n\t\tmin-width: 100%;\n\n\t\timg {\n\t\t\tmin-width: 100%;\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n`;\n","import React, { Fragment } from 'react';\nimport styled from 'styled-components';\nimport { Input, Label } from '../../styles/Input';\n\ninterface IPriceProps {\n\t[key: string]: any;\n\tonChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n}\n\nconst Price = (props: IPriceProps) => {\n\tconst fields = [\n\t\t{\n\t\t\tplaceholder: 'Price',\n\t\t\tmax: 10,\n\t\t\tname: 'price',\n\t\t\ttype: 'text',\n\t\t\tonChange: (e: React.ChangeEvent<HTMLInputElement>) => formatPrice(e)\n\t\t},\n\t\t{\n\t\t\tplaceholder: 'Currency',\n\t\t\tmax: 3,\n\t\t\tname: 'currency',\n\t\t\ttype: 'text',\n\t\t\tonChange: (e: React.ChangeEvent<HTMLInputElement>) => formatCurrency(e)\n\t\t}\n\t];\n\n\tconst formatPrice = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\te.target.value = e.target.value.replace(/[^0-9.]/g, '').replace(/(\\..*)\\./g, '$1');\n\t\tprops.onChange(e);\n\t};\n\n\tconst formatCurrency = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tif (e.target.value.length > 3) return;\n\n\t\te.target.value = e.target.value.toUpperCase();\n\t\tprops.onChange(e);\n\t};\n\n\tconst renderFields = () => {\n\t\treturn fields.map((field) => {\n\t\t\treturn <Input key={field.name} value={props[field.name]} {...field} />;\n\t\t});\n\t};\n\n\treturn (\n\t\t<Fragment>\n\t\t\t<Label htmlFor=\"price\" text=\"Price & Currency\" />\n\t\t\t<StyledPrice>{renderFields()}</StyledPrice>\n\t\t</Fragment>\n\t);\n};\n\nexport { Price };\n\nconst StyledPrice = styled.div`\n\tinput {\n\t\tmax-width: 47.5%;\n\t\tmin-width: 47.5%;\n\n\t\t&:nth-child(1) {\n\t\t\tmargin-right: 5%;\n\t\t}\n\t}\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { withToastManager } from 'react-toast-notifications';\nimport { Inputs, Label, Input } from '../../styles/Input';\nimport { Button, FlatButton } from '../../styles/Button';\nimport { IField } from './types';\nimport { validateFormByObj } from '../../../validators/validate';\nimport { productErrorHandler } from '../../../validators/product';\nimport { alertFormError } from '../../../lib/alertErrorForm';\nimport { blobToSrc } from '../../../lib/blobToSrc';\nimport { UploadPromoImage } from './UploadPromoImage';\nimport { Price } from './Price';\n\ninterface IProduct {\n\tname: string;\n\tbrand: string;\n\tlink: string;\n\tprice: string;\n\tcurrency: string;\n\timage: any;\n}\n\nexport interface IProductFormProps {\n\tcanAddMore: boolean;\n\tcurrentProduct: any;\n\tselectProduct: (product: IProduct) => void;\n\tupdateProducts: (product: IProduct) => void;\n\tremoveProduct: () => void;\n}\n\nexport interface IProductFormState {\n\tloading: boolean;\n\tproduct: any;\n}\n\nconst fields: IField[] = [\n\t{\n\t\tplaceholder: 'Name of the product',\n\t\tmax: 70,\n\t\tmin: 1,\n\t\tname: 'name',\n\t\ttype: 'text',\n\t\trequired: true,\n\t\terror: false\n\t},\n\t{\n\t\tplaceholder: 'Brand of product',\n\t\tmax: 70,\n\t\tmin: 1,\n\t\tname: 'brand',\n\t\ttype: 'text',\n\t\trequired: true,\n\t\terror: false\n\t},\n\t{\n\t\tplaceholder: 'Link to product',\n\t\tname: 'link',\n\t\ttype: 'text',\n\t\terror: false,\n\t\trequired: true\n\t}\n];\n\nclass C extends React.Component<IProductFormProps, IProductFormState> {\n\tconstructor(props: IProductFormProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tloading: false,\n\t\t\tproduct: this.props.currentProduct || this.resetProduct()\n\t\t};\n\t}\n\n\tcomponentWillReceiveProps(nextProps: any) {\n\t\tif (nextProps.currentProduct) {\n\t\t\tthis.setState({ product: nextProps.currentProduct });\n\t\t}\n\t}\n\n\tcomponentDidMount = () => window.scrollTo(0, 0);\n\n\tresetProduct() {\n\t\treturn {\n\t\t\tname: '',\n\t\t\tbrand: '',\n\t\t\tlink: '',\n\t\t\tprice: '',\n\t\t\tcurrency: '',\n\t\t\timage: null\n\t\t};\n\t}\n\n\thandleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tthis.setState({\n\t\t\tproduct: {\n\t\t\t\t...this.state.product,\n\t\t\t\t[e.target.name]: e.target.value\n\t\t\t}\n\t\t});\n\t};\n\n\thandleFile = (image: any) => {\n\t\tthis.setState({\n\t\t\tproduct: {\n\t\t\t\t...this.state.product,\n\t\t\t\timage\n\t\t\t}\n\t\t});\n\t};\n\n\tselectProduct = (product: IProduct) => {\n\t\tthis.props.selectProduct(product);\n\t};\n\n\taddProduct() {\n\t\tconst valid = validateFormByObj(this.state.product, productErrorHandler);\n\n\t\t// if errors, notify user\n\t\tif (typeof valid === 'object') {\n\t\t\treturn valid.forEach((err) => alertFormError(this.props, err));\n\t\t}\n\n\t\t// add product to list of previews and clear form\n\t\tthis.props.updateProducts(this.state.product);\n\t\tthis.setState({ product: this.resetProduct() });\n\t}\n\n\tremoveProduct() {\n\t\t// remove product from list of previews and clear form\n\t\tthis.props.removeProduct();\n\t\tthis.setState({ product: this.resetProduct() });\n\t}\n\n\trenderFields() {\n\t\treturn fields.map((field) => {\n\t\t\treturn (\n\t\t\t\t<React.Fragment key={field.name}>\n\t\t\t\t\t<Label htmlFor={field.name} text={field.name} />\n\t\t\t\t\t<Input\n\t\t\t\t\t\t{...field}\n\t\t\t\t\t\tvalue={this.state.product[field.name] || ''}\n\t\t\t\t\t\tonChange={(e: React.ChangeEvent<HTMLInputElement>) => this.handleChange(e)}\n\t\t\t\t\t/>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t});\n\t}\n\n\trenderButtons() {\n\t\tconst addBtn = (\n\t\t\t<Button\n\t\t\t\tsize=\"small\"\n\t\t\t\tdisabled={!this.props.canAddMore && !this.props.currentProduct}\n\t\t\t\tonClick={() => this.addProduct()}\n\t\t\t>\n\t\t\t\t{this.props.currentProduct ? 'Update' : 'Add'} Product\n\t\t\t</Button>\n\t\t);\n\n\t\tconst removeBtn = this.props.currentProduct ? (\n\t\t\t<FlatButton size=\"small\" onClick={() => this.removeProduct()}>\n\t\t\t\tRemove\n\t\t\t</FlatButton>\n\t\t) : null;\n\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t{addBtn}\n\t\t\t\t{removeBtn}\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<UploadPromoImage\n\t\t\t\t\thandleFile={this.handleFile}\n\t\t\t\t\treset={!this.state.product.image}\n\t\t\t\t\tsource={\n\t\t\t\t\t\tthis.props.currentProduct ? (\n\t\t\t\t\t\t\tblobToSrc(this.state.product.image.get('promo')) ||\n\t\t\t\t\t\t\tblobToSrc(this.props.currentProduct.image.get('promo'))\n\t\t\t\t\t\t) : null\n\t\t\t\t\t}\n\t\t\t\t/>\n\t\t\t\t<StyledForm>\n\t\t\t\t\t<Inputs stretch={true} stack={true}>\n\t\t\t\t\t\t{this.renderFields()}\n\t\t\t\t\t</Inputs>\n\t\t\t\t\t<Price\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tprice={this.state.product.price}\n\t\t\t\t\t\tcurrency={this.state.product.currency}\n\t\t\t\t\t/>\n\t\t\t\t\t{this.renderButtons()}\n\t\t\t\t</StyledForm>\n\t\t\t</React.Fragment>\n\t\t);\n\t}\n}\n\nconst ProductForm = withToastManager(C);\n\nexport { ProductForm };\n\nconst StyledForm = styled.div`\n\tmargin-top: -1rem;\n\tmargin-bottom: 15vh;\n\tgrid-area: form;\n\n\t@media screen and (max-width: 800px) {\n\t\tmargin-top: 2rem;\n\t}\n\n\t@media screen and (max-width: 600px) {\n\t\tbutton {\n\t\t\tmin-height: 55px !important;\n\t\t\tfont-size: 0.9rem !important;\n\t\t\tmargin-bottom: 0;\n\t\t}\n\n\t\tmargin-bottom: 5rem;\n\t}\n`;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { blobToSrc } from '../../../lib/blobToSrc';\nimport { fadeIn } from '../../styles/Keyframes';\n\nconst Preview = ({ image, name, brand }: { image: any; name: string; brand: string }) => (\n\t<StyledPreview>\n\t\t<div>\n\t\t\t<img src={blobToSrc(image.get('promo'))} alt=\"preview\" />\n\t\t</div>\n\t\t<div id=\"info\">\n\t\t\t<span id=\"brand-tag\">{brand}</span>\n\t\t\t<h5>{name}</h5>\n\t\t</div>\n\t</StyledPreview>\n);\n\nexport { Preview };\n\nconst StyledPreview = styled.div`\n\tmin-height: 5rem;\n\tmax-height: 5rem;\n\tmin-width: 100%;\n\tbackground-color: #ffffff;\n\tbox-shadow: 0px 5px 10px rgba(0, 0, 0, 0.05);\n\tborder-radius: 4px;\n\tcursor: pointer;\n\ttransition: 0.3s ease-in-out;\n\tanimation: ${fadeIn} 0.5s ease-in-out;\n\tdisplay: grid;\n\tgrid-template-columns: 30% 70%;\n\toverflow: hidden;\n\n\t&:hover {\n\t\tbox-shadow: 0px 10px 22px rgba(0, 0, 0, 0.1);\n\t}\n\n\timg {\n\t\tmax-width: 100%;\n\t\tmin-width: 100%;\n\t\tmin-height: 98%;\n\t\tmax-height: 98%;\n\t\tborder-top-left-radius: 4px;\n\t\tborder-bottom-left-radius: 4px;\n\t\tborder-right: 0.5px solid #eeeeee;\n\t}\n\n\tdiv {\n\t\tmax-height: 100%;\n\t}\n\n\t#info {\n\t\tmargin-top: 0.5rem;\n\t\tmargin-left: 1rem;\n\n\t\th5 {\n\t\t\tmargin-top: 0.45rem;\n\t\t\tmargin-left: 0.15rem;\n\t\t}\n\n\t\t#name-tag {\n\t\t\ttext-transform: uppercase;\n\t\t\tfont-size: 0.7rem;\n\t\t\tcolor: #9e9e9e;\n\t\t\tletter-spacing: 1px;\n\t\t}\n\n\t\t#brand-tag {\n\t\t\tborder-radius: 20px;\n\t\t\tbackground-color: #e3f2fd;\n\t\t\tfont-size: 0.7rem;\n\t\t\tpadding: 1.5px 8.5px;\n\t\t}\n\t}\n`;\n","import styled from 'styled-components';\n\nexport const PreviewPlaceholder = styled.div`\n\tmin-height: 5rem;\n\tmax-height: 5rem;\n\tmin-width: 100%;\n\tbackground-color: #eeeeee;\n\tborder-radius: 4px;\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\nimport { Preview } from './Preview';\nimport { PreviewPlaceholder } from './PreviewPlaceholder';\n\nconst PreviewList = ({ selectProduct, list }: { selectProduct: (product: any) => void; list: any[] }) => {\n\tconst MAX_PRODUCTS = 3;\n\n\tconst renderList = () => {\n\t\tconst productList = list.map((product) => {\n\t\t\treturn (\n\t\t\t\t<li key={product.name} onClick={() => selectProduct(product)}>\n\t\t\t\t\t<Preview {...product} />\n\t\t\t\t</li>\n\t\t\t);\n\t\t});\n\n\t\tfor (let i = 0; i < MAX_PRODUCTS - list.length; i++) {\n\t\t\tproductList.push(\n\t\t\t\t<li key={i}>\n\t\t\t\t\t<PreviewPlaceholder />\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\n\t\treturn productList;\n\t};\n\n\treturn (\n\t\t<StyledPreview>\n\t\t\t<StyledInfo>\n\t\t\t\t{list.length}/{MAX_PRODUCTS} products added\n\t\t\t</StyledInfo>\n\t\t\t<ul>{renderList()}</ul>\n\t\t</StyledPreview>\n\t);\n};\n\nexport { PreviewList };\n\nconst StyledInfo = styled.h3`\n\ttext-align: center;\n\tmargin-bottom: 3.5rem;\n\tmargin-top: 0;\n`;\n\nconst StyledPreview = styled.div`\n\tmax-width: 275px;\n\tmin-width: 275px;\n\tmargin: 0 auto;\n\tgrid-area: list;\n\n\tul {\n\t\tpadding: 0;\n\n\t\tli {\n\t\t\tlist-style: none;\n\t\t\tmargin-bottom: 2.5rem;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 800px) {\n\t\tmin-width: 350px;\n\t\tmax-width: 350px;\n\t}\n\n\t@media screen and (max-width: 400px) {\n\t\tmin-width: 100%;\n\t\tmax-width: 100%;\n\t}\n`;\n","export const noop = (): void => {};\n","import * as React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { Button } from '../../styles/Button';\nimport FeaterIcons from 'feather-icons-react';\nimport { IPromo } from '../Promos';\nimport { noop } from '../../../utils/noop';\n\nexport interface IPublishProps {\n\tpromo: IPromo;\n\thandle: string;\n\tdisabled: boolean;\n\tgoToPublishedPromo: (handle: string, id: string) => void;\n}\n\nexport interface IPublishState {\n\tloading: boolean;\n}\n\nclass Publish extends React.Component<IPublishProps, IPublishState> {\n\tconstructor(props: IPublishProps) {\n\t\tsuper(props);\n\n\t\tthis.state = { loading: false };\n\t}\n\n\tprivate normalizePromo() {\n\t\t// normalizes the promo before sending\n\n\t\tconst promo = this.props.promo;\n\n\t\t// discount\n\t\t// if (promo.discount) {\n\t\t// \tpromo.discount = parseInt(promo.discount);\n\t\t// \tpromo.expires = new Date(promo.expires).getTime();\n\t\t// }\n\n\t\t// products\n\t\tpromo.products = promo.products.map((p) => {\n\t\t\treturn {\n\t\t\t\t...p,\n\t\t\t\tprice: Math.round(p.price * 100) / 100\n\t\t\t};\n\t\t});\n\n\t\treturn promo;\n\t}\n\n\tcreatePromo = async () => {\n\t\tthis.setState({ loading: true });\n\n\t\t// create promo and attempt publish\n\t\tconst promo = this.normalizePromo();\n\t\t// const response = await mutate(promo);\n\n\t\t// // if success, upload promo products releated image\n\t\t// if (response.status < 400) {\n\t\t// \t// resolve once all images has been saved\n\t\t// \tawait Promise.all(\n\t\t// \t\tpromo.products.map(async (product, i) => {\n\t\t// \t\t\tpromo.products[i].image = await this.uploadPromoProductImg(\n\t\t// \t\t\t\tproduct.image,\n\t\t// \t\t\t\tresponse.payload.promoProductIDs[i]\n\t\t// \t\t\t);\n\t\t// \t\t})\n\t\t// \t);\n\n\t\t// \treturn this.updateAndRedir(response.payload.promoID, promo);\n\t\t// }\n\t};\n\n\tuploadPromoProductImg = async (blob: any) => {\n\t\t// create combined formdata\n\t\tconst data = new FormData();\n\t\tdata.append('image', blob.get('promo'), 'product.jpg');\n\n\t\t// upload images for promo products\n\t\t// const response = await uploadPromo(data);\n\t\t// if (response.status < 400) {\n\t\t// \treturn response.payload.image;\n\t\t// }\n\n\t\treturn '';\n\t};\n\n\tupdateAndRedir(id: string, promo: IPromo) {\n\t\t// add new promo to users promo list\n\t\t// this.props.createPromoAction({ [id]: promo });\n\n\t\t// set new promo to be the users viewing promo for instant load\n\t\t// this.props.viewPromoAction({ id, promo });\n\n\t\t// redirect to promotion and render new promo\n\t\tthis.props.goToPublishedPromo(this.props.handle, id);\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<Button\n\t\t\t\tdisabled={this.props.disabled || this.state.loading}\n\t\t\t\tonClick={this.props.disabled ? noop : this.createPromo}\n\t\t\t>\n\t\t\t\t<FeaterIcons icon=\"check\" />\n\t\t\t\tPublish\n\t\t\t</Button>\n\t\t);\n\t}\n}\n\nexport { Publish };\n","import React, { Component, Fragment } from 'react';\nimport styled from 'styled-components';\nimport FeaterIcons from 'feather-icons-react';\nimport { FlatButton } from '../../styles/Button';\nimport { Publish } from './Publish';\nimport { IPromo } from '../Promos';\n\ninterface IDetailsOverviewProps {\n\tpromo: IPromo;\n\tvalid: boolean;\n\tbackToPromo: () => void;\n\tgoToPublishedPromo: (handle: string, id: string) => void;\n}\n\nconst DetailsOverview = ({ promo, valid, backToPromo, goToPublishedPromo }: IDetailsOverviewProps) => {\n\tconst renderButtons = () => {\n\t\tconst editBtn = (\n\t\t\t<FlatButton onClick={() => backToPromo()}>\n\t\t\t\t<FeaterIcons icon=\"edit\" />\n\t\t\t\tEdit\n\t\t\t</FlatButton>\n\t\t);\n\n\t\treturn (\n\t\t\t<Fragment>\n\t\t\t\t<Publish goToPublishedPromo={goToPublishedPromo} handle=\"futurekam\" disabled={!valid} promo={promo} />\n\t\t\t\t{editBtn}\n\t\t\t</Fragment>\n\t\t);\n\t};\n\n\treturn (\n\t\t<StyledCont>\n\t\t\t<div id=\"details\">\n\t\t\t\t<div>\n\t\t\t\t\t<span>Title</span>\n\t\t\t\t\t<h3>{promo.title}</h3>\n\t\t\t\t</div>\n\t\t\t\t<p>{promo.description}</p>\n\t\t\t</div>\n\t\t\t<div id=\"btns\">{renderButtons()}</div>\n\t\t</StyledCont>\n\t);\n};\n\nexport { DetailsOverview };\n\nconst StyledCont = styled.div`\n\tmax-width: 95%;\n\tmargin: 0 auto;\n\tmin-height: 175px;\n\tpadding-bottom: 3rem;\n\tmargin-bottom: 4rem;\n\tborder-bottom: 1px solid #e0e0e0;\n\tdisplay: grid;\n\tgrid-template-columns: minmax(0, 1.15fr) minmax(0, 0.85fr);\n\n\t/* prettier-ignore */\n\tgrid-template-areas: \n\t\t\"details buttons\"\n\t;\n\n\th3,\n\tp {\n\t\tword-wrap: break-word;\n\t\tmax-width: 95%;\n\t}\n\n\t#details {\n\t\tmax-width: 900px;\n\t\tgrid-area: details;\n\n\t\tp {\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: #212121;\n\t\t}\n\n\t\tdiv {\n\t\t\tspan {\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tletter-spacing: 2px;\n\t\t\t\tcolor: #9e9e9e;\n\t\t\t\tfont-size: 0.8rem;\n\t\t\t}\n\t\t}\n\t}\n\n\t#btns {\n\t\tgrid-area: buttons;\n\n\t\t@media screen and (max-width: 600px) {\n\t\t\tbutton {\n\t\t\t\tmargin-bottom: 0 !important;\n\t\t\t}\n\t\t}\n\t}\n\n\t@media screen and (max-width: 800px) {\n\t\tgrid-template-columns: minmax(0, 1fr);\n\t\tpadding-bottom: 4rem;\n\t\tmax-width: 85%;\n\t\tmargin: 0 auto 4rem auto;\n\n\t\t/* prettier-ignore */\n\t\tgrid-template-areas: \n\t\t\"details\"\n\t\t\"buttons\"\n\t\t;\n\n\t\t#details,\n\t\t#btns {\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n`;\n","import * as React from 'react';\nimport styled from 'styled-components';\n\nimport { Container } from '../../styles/Container';\nimport { IPromo } from '../Promos';\nimport { PromoForm } from './PromoForm';\nimport { ProductForm } from './ProductForm';\nimport { PreviewList } from './PreviewList';\nimport { DetailsOverview } from './DetailsOverview';\n\nexport interface INewPromoProps {\n\thistory: {\n\t\tpush: (route: string) => void;\n\t};\n}\n\nexport interface INewPromoState {\n\tstage: string;\n\tcurrentProduct: any;\n\tcurrProdMalloc: any;\n\tpromo: IPromo;\n}\n\nclass NewPromo extends React.Component<INewPromoProps, INewPromoState> {\n\tconstructor(props: INewPromoProps) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tstage: 'promo',\n\t\t\tpromo: {\n\t\t\t\ttitle: '',\n\t\t\t\tdescription: '',\n\t\t\t\tcategory: '',\n\t\t\t\texpires: '',\n\t\t\t\tcode: '',\n\t\t\t\tdiscount: '',\n\t\t\t\tproducts: []\n\t\t\t},\n\t\t\t...this.resetCurrProd()\n\t\t};\n\t}\n\n\tprivate resetCurrProd() {\n\t\treturn {\n\t\t\tcurrentProduct: null,\n\t\t\tcurrProdMalloc: null\n\t\t};\n\t}\n\n\tprivate backToPromo = () => this.setState({ stage: 'promo' });\n\tprivate goToPublishedPromo = (handle: string, id: string): void => {\n\t\tthis.props.history.push(`/${handle}/promos/${id}`);\n\t};\n\n\tprivate updatePromo = (promo: IPromo) => {\n\t\tthis.setState({\n\t\t\tstage: 'products',\n\t\t\tpromo\n\t\t});\n\t};\n\n\tprivate updateProducts = (product: any) => {\n\t\tthis.setState({\n\t\t\t...this.resetCurrProd(),\n\t\t\tpromo: {\n\t\t\t\t...this.state.promo,\n\t\t\t\tproducts: this.productIncluded(this.state.currProdMalloc)\n\t\t\t\t\t? this.updateProduct(product)\n\t\t\t\t\t: [ ...this.state.promo.products, product ]\n\t\t\t}\n\t\t});\n\t};\n\n\tprivate productIncluded(product: any) {\n\t\treturn this.state.promo.products.includes(product);\n\t}\n\n\tprivate updateProduct = (product: any) => {\n\t\tconst prod = this.state.promo.products;\n\t\tprod[prod.indexOf(this.state.currProdMalloc)] = product;\n\t\treturn [ ...prod ];\n\t};\n\n\tprivate removeProduct = () => {\n\t\tthis.setState({\n\t\t\t...this.resetCurrProd(),\n\t\t\tpromo: {\n\t\t\t\t...this.state.promo,\n\t\t\t\tproducts: this.state.promo.products.filter((p) => p !== this.state.currProdMalloc)\n\t\t\t}\n\t\t});\n\t};\n\n\tprivate selectProduct = (product: any) => {\n\t\tif (this.productIncluded(product)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrentProduct: product,\n\t\t\t\tcurrProdMalloc: product\n\t\t\t});\n\t\t}\n\t};\n\n\tprivate renderStage() {\n\t\tif (this.state.stage === 'promo') {\n\t\t\treturn <PromoForm updatePromo={this.updatePromo} promo={this.state.promo} />;\n\t\t} else if (this.state.stage === 'products') {\n\t\t\treturn (\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<DetailsOverview\n\t\t\t\t\t\tbackToPromo={this.backToPromo}\n\t\t\t\t\t\tgoToPublishedPromo={this.goToPublishedPromo}\n\t\t\t\t\t\tpromo={this.state.promo}\n\t\t\t\t\t\tvalid={this.state.promo.products.length > 0}\n\t\t\t\t\t/>\n\t\t\t\t\t<StyledCont>\n\t\t\t\t\t\t<ProductForm\n\t\t\t\t\t\t\tupdateProducts={this.updateProducts}\n\t\t\t\t\t\t\tremoveProduct={this.removeProduct}\n\t\t\t\t\t\t\tcurrentProduct={this.state.currentProduct}\n\t\t\t\t\t\t\tcanAddMore={this.state.promo.products.length < 3}\n\t\t\t\t\t\t\tlist={this.state.promo.products}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<PreviewList list={this.state.promo.products} selectProduct={this.selectProduct} />\n\t\t\t\t\t</StyledCont>\n\t\t\t\t</React.Fragment>\n\t\t\t);\n\t\t}\n\n\t\treturn null;\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<StyledNewPromo>\n\t\t\t\t<Container id=\"cont\">{this.renderStage()}</Container>\n\t\t\t</StyledNewPromo>\n\t\t);\n\t}\n}\n\nexport { NewPromo };\n\nconst StyledNewPromo = styled.div`\n\tmargin: 5rem auto;\n\n\t#cont {\n\t\tmin-width: 85%;\n\n\t\tbutton {\n\t\t\tfloat: right;\n\t\t\tmargin-top: 2rem;\n\t\t\tmargin-left: 2rem;\n\t\t\tmin-width: 150px;\n\t\t}\n\n\t\t@media screen and (max-width: 600px) {\n\t\t\tmin-width: 100%;\n\n\t\t\tbutton {\n\t\t\t\tfloat: none;\n\t\t\t\tclear: both;\n\t\t\t\tmargin: 2rem auto;\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n\n\t@media screen and (max-width: 600px) {\n\t\tmargin-bottom: 3rem;\n\t}\n`;\n\nconst StyledCont = styled.div`\n\tdisplay: grid;\n\tgrid-template-columns: minmax(0, 1fr) minmax(0, 1.15fr) minmax(0, 0.85fr);\n\n\t/* prettier-ignore */\n\tgrid-template-areas: \n\t\t\"upload form list\"\n\t;\n\n\tgrid-gap: 3.5rem;\n\n\t@media screen and (max-width: 1200px) {\n\t\tgrid-template-columns: minmax(0, 1fr) minmax(0, 1fr);\n\n\t\tmax-width: 800px;\n\t\tmargin: 0 auto;\n\n\t\t/* prettier-ignore */\n\t\tgrid-template-areas: \n\t\t\t\"upload list\"\n\t\t\t\"form form\"\n\t\t;\n\t}\n\n\t@media screen and (max-width: 800px) {\n\t\tgrid-template-columns: minmax(0, 1fr);\n\n\t\tmax-width: 80%;\n\t\tmargin: 0 auto;\n\n\t\t/* prettier-ignore */\n\t\tgrid-template-areas: \n\t\t\t\"list\"\n\t\t\t\"upload\"\n\t\t\t\"form\"\n\t\t;\n\t}\n`;\n","import React, { Fragment } from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { TransitionGroup, CSSTransition } from 'react-transition-group';\nimport { NoMatch } from './NoMatch';\nimport { Profile, IProfile } from '../components/profile/Profile';\nimport { Navbar } from '../components/navbar';\nimport { Container } from '../components/styles/Container';\nimport { Query } from 'react-apollo';\nimport { ME_QUERY } from '../api/query/ME_QUERY';\nimport { Loader } from '../components/loader';\nimport { Promos } from '../components/promo/Promos';\nimport { NewPromo } from '../components/promo/new/NewPromo';\n\ninterface Data {\n\tme: IProfile;\n}\n\nconst Workaround = ({ action, children }: { action: string; children: any }) =>\n\taction === 'REPLACE' ? null : children;\n\nconst AuthRoutes = () => (\n\t<Query query={ME_QUERY}>\n\t\t{({ data, loading, error }: { data: Data; loading: boolean; error?: any }) => {\n\t\t\tif (loading) {\n\t\t\t\treturn <Loader />;\n\t\t\t}\n\n\t\t\tif (error) {\n\t\t\t\t// clear session because if we cant fetch \"ME\" cookie isnt present\n\t\t\t\twindow.localStorage.clear();\n\t\t\t\t// @ts-ignore\n\t\t\t\twindow.location = '/login';\n\t\t\t}\n\n\t\t\treturn (\n\t\t\t\t<Fragment>\n\t\t\t\t\t<Route\n\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\trender={(route) => <Navbar avatar={data.me.avatar} handle={data.me.handle} {...route} />}\n\t\t\t\t\t/>\n\t\t\t\t\t<Route\n\t\t\t\t\t\trender={({ location, history }) => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<Container>\n\t\t\t\t\t\t\t\t\t<TransitionGroup>\n\t\t\t\t\t\t\t\t\t\t<CSSTransition key={location.key} classNames=\"page\" timeout={500}>\n\t\t\t\t\t\t\t\t\t\t\t<Switch location={location}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/\" component={Promos} />\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/login\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Workaround action={history.action}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Workaround>\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/friends\" component={() => <h1>FRIENDS</h1>} />\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\trender={(route) => <Profile profile={data.me} {...route} />}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/promos/new\" component={NewPromo} />\n\t\t\t\t\t\t\t\t\t\t\t\t<Route exact path=\"/u/:handle\" component={() => <h1>Handle</h1>} />\n\t\t\t\t\t\t\t\t\t\t\t\t<Route\n\t\t\t\t\t\t\t\t\t\t\t\t\texact\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath=\"/u/:handle/promos/:id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcomponent={() => <h1>Single Promo</h1>}\n\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t<Route component={NoMatch} />\n\t\t\t\t\t\t\t\t\t\t\t</Switch>\n\t\t\t\t\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t\t\t\t\t</TransitionGroup>\n\t\t\t\t\t\t\t\t</Container>\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</Fragment>\n\t\t\t);\n\t\t}}\n\t</Query>\n);\n\nexport { AuthRoutes };\n","import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport { PublicRoutes } from './PublicRoutes';\nimport { AuthRoutes } from './AuthRoutes';\nimport { Loader } from '../components/loader';\n\nconst IS_LOGGED_IN = gql`\n\t{\n\t\tisLoggedIn @client\n\t}\n`;\n\ninterface IDataQuery {\n\tisLoggedIn: boolean;\n}\n\nclass Routes extends Component {\n\tprivate routeHandler(data: IDataQuery) {\n\t\tconst authenticated = data.isLoggedIn;\n\t\tif (authenticated) {\n\t\t\treturn <AuthRoutes />;\n\t\t} else return <PublicRoutes />;\n\t}\n\n\tpublic render() {\n\t\treturn (\n\t\t\t<Router>\n\t\t\t\t<Query query={IS_LOGGED_IN}>\n\t\t\t\t\t{({ data, loading, error }: { data: IDataQuery; loading: boolean; error?: any }) => {\n\t\t\t\t\t\tif (loading) {\n\t\t\t\t\t\t\treturn <Loader />;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (error) {\n\t\t\t\t\t\t\treturn 'Something went wrong';\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn this.routeHandler(data);\n\t\t\t\t\t}}\n\t\t\t\t</Query>\n\t\t\t</Router>\n\t\t);\n\t}\n}\n\nexport { Routes };\n","import ApolloClient from 'apollo-boost';\nimport { typeDefs } from './resolvers';\n\nconst { REACT_APP_ENV, REACT_APP_GRAPHQL_SERVER_PROD, REACT_APP_GRAPHQL_SERVER_DEV } = process.env;\nexport const client = new ApolloClient({\n\turi: REACT_APP_ENV === 'production' ? REACT_APP_GRAPHQL_SERVER_PROD : REACT_APP_GRAPHQL_SERVER_DEV,\n\tcredentials: 'include',\n\tfetchOptions: {\n\t\tcredentials: 'include'\n\t},\n\tclientState: {\n\t\tdefaults: {\n\t\t\tisLoggedIn: !!window.localStorage.getItem('sid')\n\t\t},\n\t\tresolvers: {\n\t\t\tQuery: {\n\t\t\t\tisLoggedIn: () => {\n\t\t\t\t\treturn !!window.localStorage.getItem('sid');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttypeDefs\n\t}\n});\n","export const typeDefs = `\n  extend type Query {\n    isLoggedIn: Boolean!\n  }\n`;\n","import React, { Component } from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { ThemeProvider } from 'styled-components';\nimport { ToastProvider } from 'react-toast-notifications';\nimport { GlobalStyle } from './styles/global';\nimport { theme } from './styles/theme';\nimport { Routes } from '../routes/Routes';\nimport { client } from '../api/apollo';\n\nconst IS_LIGHT_BY_DEFAULT = true;\n\nexport const DarkMode = React.createContext({ darkMode: IS_LIGHT_BY_DEFAULT, toggleDarkMode: (): void => {} });\n\nconst App = () => {\n\tconst [ darkMode, setDarkMode ] = React.useState(IS_LIGHT_BY_DEFAULT);\n\n\treturn (\n\t\t<ToastProvider placement=\"bottom-left\">\n\t\t\t<ThemeProvider theme={theme}>\n\t\t\t\t<ApolloProvider client={client}>\n\t\t\t\t\t<DarkMode.Provider value={{ darkMode, toggleDarkMode: () => setDarkMode((x) => !x) }}>\n\t\t\t\t\t\t<Routes />\n\t\t\t\t\t</DarkMode.Provider>\n\t\t\t\t</ApolloProvider>\n\t\t\t</ThemeProvider>\n\t\t\t<GlobalStyle theme={theme} darkMode={darkMode} />\n\t\t</ToastProvider>\n\t);\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}